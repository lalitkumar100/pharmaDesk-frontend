{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import AddMedicineModal from\"./AddMedicineModal\";import RandomColorLoader from\"../../looader/RandomColorLoader\";// specife loader\nimport BoxLoader from\"../../looader/BoxLoader\";// normal loader\nimport{PlusCircle,Trash2,Loader2,PackagePlus,AlertTriangle,FileUp}from\"lucide-react\";// It's better to manage the base URL and token in a more centralized way,\n// e.g., using an Axios instance or environment variables.\nimport BASE_URL from\"../../../config\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const token=localStorage.getItem(\"lalitkumar_choudhary\")||\"\";function StockEntryResponsive(){// --- STATE MANAGEMENT ---\nconst[wholesaler,setWholesaler]=useState(\"\");const[invoiceNumber,setInvoiceNumber]=useState(\"\");const[date,setDate]=useState(\"\");const[medicines,setMedicines]=useState([]);const[showAddMedicineModal,setShowAddMedicineModal]=useState(false);const[loading,setLoading]=useState(false);const[fileProcessing,setFileProcessing]=useState(false);const[message,setMessage]=useState(null);const[error,setError]=useState(null);const[selectedFile,setSelectedFile]=useState(null);// --- HANDLERS ---\nconst handleAddMedicine=medicine=>{setMedicines(prev=>[...prev,medicine]);};const handleDeleteMedicine=idx=>{setMedicines(prev=>prev.filter((_,i)=>i!==idx));};const clearForm=()=>{setWholesaler(\"\");setInvoiceNumber(\"\");setDate(\"\");setMedicines([]);setError(null);setMessage(null);};const handleSubmit=async e=>{e.preventDefault();setError(null);setMessage(null);if(!wholesaler||!invoiceNumber||!date){setError(\"Please fill in all invoice details.\");return;}if(medicines.length===0){setError(\"Please add at least one medicine to the list.\");return;}setLoading(true);try{const res=await axios.post(`${BASE_URL}/admin/medicine_stock`,{wholesaler,invoiceNumber,date,medicine:medicines// API expects 'medicine' key\n},{headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${token}`}});if(res.status===200){setMessage(res.data.message||\"Stock entry added successfully!\");clearForm();}else{setError(res.data.message||\"Failed to add stock entry.\");}}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"A server error occurred. Please try again later.\");}finally{setLoading(false);// Automatically clear messages after a few seconds\nsetTimeout(()=>{setMessage(null);setError(null);},5000);}};const handleFileChange=e=>{const file=e.target.files[0];if(file){setSelectedFile(file);handleSubmitFile(file);}};const handleSubmitFile=async file=>{setFileProcessing(true);// Start the file processing loader and blur\nsetError(null);setMessage(null);const formData=new FormData();formData.append(\"invoice\",file);// 'invoice' should match the key expected by the backend\ntry{const res=await axios.post(`${BASE_URL}/admin/api/process-invoice`,formData,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:`Bearer ${token}`}});if(res.status===200){const{wholesaler,invoiceNumber,date,medicines:apiMedicines}=res.data;// Validate if the API returned any medicines\nif(apiMedicines&&apiMedicines.length>0){setWholesaler(wholesaler);setInvoiceNumber(invoiceNumber);setDate(date);setMedicines(apiMedicines);setMessage(\"Invoice processed successfully! Details have been filled.\");}else{setError(\"Invoice processed, but no medicine items were found. Please add them manually.\");// Clear any previously filled form data to avoid confusion\nclearForm();}}else{setError(res.data.message||\"Failed to process invoice.\");}}catch(err){var _err$response2,_err$response2$data;setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||\"A server error occurred during file upload.\");}finally{setFileProcessing(false);// End the file processing loader and blur\n// Automatically clear messages after a few seconds\nsetTimeout(()=>{setMessage(null);setError(null);},5000);}};// --- RENDER ---\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[fileProcessing&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-75 backdrop-blur-sm\",children:/*#__PURE__*/_jsx(RandomColorLoader,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-slate-100 p-4 sm:p-6 lg:p-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto max-w-7xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-8 lg:grid-cols-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sticky p-6 bg-white rounded-lg shadow-md top-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-6 text-2xl font-bold text-slate-800\",children:\"Stock Entry Details\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"wholesaler\",className:\"block mb-1 text-sm font-medium text-slate-600\",children:[\"Wholesaler \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{id:\"wholesaler\",type:\"text\",className:\"w-full px-3 py-2 border rounded-md border-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500\",value:wholesaler,onChange:e=>setWholesaler(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"invoiceNumber\",className:\"block mb-1 text-sm font-medium text-slate-600\",children:[\"Invoice No \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{id:\"invoiceNumber\",type:\"text\",className:\"w-full px-3 py-2 border rounded-md border-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500\",value:invoiceNumber,onChange:e=>setInvoiceNumber(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"date\",className:\"block mb-1 text-sm font-medium text-slate-600\",children:[\"Date \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{id:\"date\",type:\"date\",className:\"w-full px-3 py-2 border rounded-md border-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500\",value:date,onChange:e=>setDate(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-4 space-y-3\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3 text-sm text-red-800 bg-red-100 rounded-lg\",role:\"alert\",children:error}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3 text-sm text-green-800 bg-green-100 rounded-lg\",role:\"alert\",children:message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-3 pt-6 sm:flex-row\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex items-center justify-center w-full px-6 py-2.5 font-semibold text-white bg-indigo-600 rounded-md shadow-sm sm:w-auto hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:bg-indigo-300\",disabled:loading||fileProcessing,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-5 h-5 mr-2 animate-spin\"}),\"Submitting...\"]}):\"Submit Entry\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:clearForm,className:\"w-full px-6 py-2.5 font-semibold text-slate-700 bg-slate-200 rounded-md sm:w-auto hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50\",disabled:loading||fileProcessing,children:\"Cancel\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-white rounded-lg shadow-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-start justify-between gap-4 mb-5 sm:flex-row sm:items-center\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold text-slate-800\",children:[\"Medicine Items (\",medicines.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file-upload\",className:\"flex items-center justify-center gap-2 px-4 py-2 font-semibold text-white bg-blue-600 rounded-md shadow-sm cursor-pointer hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\",children:[/*#__PURE__*/_jsx(FileUp,{size:20}),\"Upload img/pdf\"]}),/*#__PURE__*/_jsx(\"input\",{id:\"file-upload\",type:\"file\",className:\"hidden\",onChange:handleFileChange,accept:\"image/*, application/pdf\",disabled:loading||fileProcessing}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setShowAddMedicineModal(true),className:\"flex items-center justify-center gap-2 px-4 py-2 font-semibold text-white bg-green-600 rounded-md shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2\",disabled:loading||fileProcessing,children:[/*#__PURE__*/_jsx(PlusCircle,{size:20}),\"Add Medicine\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:medicines.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"py-12 text-center border-2 border-dashed rounded-lg border-slate-200\",children:[/*#__PURE__*/_jsx(PackagePlus,{className:\"w-12 h-12 mx-auto mb-2 text-slate-400\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-slate-500\",children:\"No medicines added yet.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-400\",children:\"Upload an invoice to fill automatically or click \\\"Add Medicine\\\" to enter manually.\"})]}):medicines.map((med,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 transition-all duration-300 bg-white border rounded-lg shadow-sm border-slate-200 hover:shadow-md hover:border-indigo-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-indigo-700\",children:med.medicine_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500\",children:med.brand_name})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"p-1 text-red-500 rounded-full hover:bg-red-100 hover:text-red-700\",onClick:()=>handleDeleteMedicine(idx),\"aria-label\":\"Delete medicine\",children:/*#__PURE__*/_jsx(Trash2,{size:18})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-x-4 gap-y-3 mt-4 text-sm sm:grid-cols-3 md:grid-cols-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"block text-xs font-medium text-slate-500\",children:\"Batch No.\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-slate-700\",children:med.batch_no})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"block text-xs font-medium text-slate-500\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-slate-700\",children:med.stock_quantity})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"block text-xs font-medium text-slate-500\",children:\"MRP\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-slate-700\",children:[\"\\u20B9\",med.mrp]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"block text-xs font-medium text-slate-500\",children:\"Purchase\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-slate-700\",children:[\"\\u20B9\",med.purchase_price]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"block text-xs font-medium text-slate-500\",children:\"Packed Type\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-slate-700\",children:med.packed_type})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"block text-xs font-medium text-slate-500\",children:\"MFG Date\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-slate-700\",children:med.mfg_date})]}),/*#__PURE__*/_jsxs(\"div\",{className:new Date(med.expiry_date)<new Date()?\"text-red-600\":\"\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"block text-xs font-medium text-slate-500\",children:\"Expiry Date\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[med.expiry_date,\" \",new Date(med.expiry_date)<new Date()&&/*#__PURE__*/_jsx(AlertTriangle,{className:\"inline w-4 h-4 ml-1\"})]})]})]})]},idx))})]})})]})})}),showAddMedicineModal&&/*#__PURE__*/_jsx(AddMedicineModal,{onClose:()=>setShowAddMedicineModal(false),onAddMedicine:handleAddMedicine})]});}export default StockEntryResponsive;","map":{"version":3,"names":["React","useState","axios","AddMedicineModal","RandomColorLoader","BoxLoader","PlusCircle","Trash2","Loader2","PackagePlus","AlertTriangle","FileUp","BASE_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","token","localStorage","getItem","StockEntryResponsive","wholesaler","setWholesaler","invoiceNumber","setInvoiceNumber","date","setDate","medicines","setMedicines","showAddMedicineModal","setShowAddMedicineModal","loading","setLoading","fileProcessing","setFileProcessing","message","setMessage","error","setError","selectedFile","setSelectedFile","handleAddMedicine","medicine","prev","handleDeleteMedicine","idx","filter","_","i","clearForm","handleSubmit","e","preventDefault","length","res","post","headers","Authorization","status","data","err","_err$response","_err$response$data","response","setTimeout","handleFileChange","file","target","files","handleSubmitFile","formData","FormData","append","apiMedicines","_err$response2","_err$response2$data","children","className","onSubmit","htmlFor","id","type","value","onChange","required","role","disabled","onClick","size","accept","map","med","medicine_name","brand_name","batch_no","stock_quantity","mrp","purchase_price","packed_type","mfg_date","Date","expiry_date","onClose","onAddMedicine"],"sources":["C:/Users/hp/OneDrive/Desktop/frontend/src/components/Admin/StockEntry/AddStock.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport AddMedicineModal from \"./AddMedicineModal\";\r\nimport RandomColorLoader from \"../../looader/RandomColorLoader\"; // specife loader\r\nimport BoxLoader from \"../../looader/BoxLoader\"; // normal loader\r\nimport {\r\n  PlusCircle,\r\n  Trash2,\r\n  Loader2,\r\n  PackagePlus,\r\n  AlertTriangle,\r\n  FileUp,\r\n} from \"lucide-react\";\r\n\r\n// It's better to manage the base URL and token in a more centralized way,\r\n// e.g., using an Axios instance or environment variables.\r\nimport BASE_URL from \"../../../config\";\r\nconst token = localStorage.getItem(\"lalitkumar_choudhary\") || \"\";\r\n\r\nfunction StockEntryResponsive() {\r\n  // --- STATE MANAGEMENT ---\r\n  const [wholesaler, setWholesaler] = useState(\"\");\r\n  const [invoiceNumber, setInvoiceNumber] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [medicines, setMedicines] = useState([]);\r\n  const [showAddMedicineModal, setShowAddMedicineModal] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [fileProcessing, setFileProcessing] = useState(false);\r\n  const [message, setMessage] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n  // --- HANDLERS ---\r\n  const handleAddMedicine = (medicine) => {\r\n    setMedicines((prev) => [...prev, medicine]);\r\n  };\r\n\r\n  const handleDeleteMedicine = (idx) => {\r\n    setMedicines((prev) => prev.filter((_, i) => i !== idx));\r\n  };\r\n\r\n  const clearForm = () => {\r\n    setWholesaler(\"\");\r\n    setInvoiceNumber(\"\");\r\n    setDate(\"\");\r\n    setMedicines([]);\r\n    setError(null);\r\n    setMessage(null);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setMessage(null);\r\n\r\n    if (!wholesaler || !invoiceNumber || !date) {\r\n      setError(\"Please fill in all invoice details.\");\r\n      return;\r\n    }\r\n    if (medicines.length === 0) {\r\n      setError(\"Please add at least one medicine to the list.\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const res = await axios.post(\r\n        `${BASE_URL}/admin/medicine_stock`,\r\n        {\r\n          wholesaler,\r\n          invoiceNumber,\r\n          date,\r\n          medicine: medicines, // API expects 'medicine' key\r\n        },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (res.status === 200) {\r\n        setMessage(res.data.message || \"Stock entry added successfully!\");\r\n        clearForm();\r\n      } else {\r\n        setError(res.data.message || \"Failed to add stock entry.\");\r\n      }\r\n    } catch (err) {\r\n      setError(\r\n        err.response?.data?.message || \"A server error occurred. Please try again later.\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n      // Automatically clear messages after a few seconds\r\n      setTimeout(() => {\r\n        setMessage(null);\r\n        setError(null);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setSelectedFile(file);\r\n      handleSubmitFile(file);\r\n    }\r\n  };\r\n\r\n  const handleSubmitFile = async (file) => {\r\n    setFileProcessing(true); // Start the file processing loader and blur\r\n    setError(null);\r\n    setMessage(null);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"invoice\", file); // 'invoice' should match the key expected by the backend\r\n\r\n    try {\r\n      const res = await axios.post(`${BASE_URL}/admin/api/process-invoice`, formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (res.status === 200) {\r\n        const { wholesaler, invoiceNumber, date, medicines: apiMedicines } = res.data;\r\n        \r\n        // Validate if the API returned any medicines\r\n        if (apiMedicines && apiMedicines.length > 0) {\r\n          setWholesaler(wholesaler);\r\n          setInvoiceNumber(invoiceNumber);\r\n          setDate(date);\r\n          setMedicines(apiMedicines);\r\n          setMessage(\"Invoice processed successfully! Details have been filled.\");\r\n        } else {\r\n          setError(\"Invoice processed, but no medicine items were found. Please add them manually.\");\r\n          // Clear any previously filled form data to avoid confusion\r\n          clearForm();\r\n        }\r\n      } else {\r\n        setError(res.data.message || \"Failed to process invoice.\");\r\n      }\r\n    } catch (err) {\r\n      setError(\r\n        err.response?.data?.message || \"A server error occurred during file upload.\"\r\n      );\r\n    } finally {\r\n      setFileProcessing(false); // End the file processing loader and blur\r\n      // Automatically clear messages after a few seconds\r\n      setTimeout(() => {\r\n        setMessage(null);\r\n        setError(null);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  // --- RENDER ---\r\n  return (\r\n    <>\r\n      {/* File processing loader overlay */}\r\n      {fileProcessing && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-75 backdrop-blur-sm\">\r\n          <RandomColorLoader />\r\n        </div>\r\n      )}\r\n      <div className=\"min-h-screen bg-slate-100 p-4 sm:p-6 lg:p-8\">\r\n        <div className=\"mx-auto max-w-7xl\">\r\n          {/* Main layout grid: 1 column on mobile, 2 columns on large screens */}\r\n          <div className=\"grid grid-cols-1 gap-8 lg:grid-cols-5\">\r\n            {/* --- LEFT COLUMN: FORM DETAILS --- */}\r\n            <div className=\"lg:col-span-2\">\r\n              <div className=\"sticky p-6 bg-white rounded-lg shadow-md top-8\">\r\n                <h2 className=\"mb-6 text-2xl font-bold text-slate-800\">\r\n                  Stock Entry Details\r\n                </h2>\r\n                <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n                  <div>\r\n                    <label\r\n                      htmlFor=\"wholesaler\"\r\n                      className=\"block mb-1 text-sm font-medium text-slate-600\"\r\n                    >\r\n                      Wholesaler <span className=\"text-red-500\">*</span>\r\n                    </label>\r\n                    <input\r\n                      id=\"wholesaler\"\r\n                      type=\"text\"\r\n                      className=\"w-full px-3 py-2 border rounded-md border-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                      value={wholesaler}\r\n                      onChange={(e) => setWholesaler(e.target.value)}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label\r\n                      htmlFor=\"invoiceNumber\"\r\n                      className=\"block mb-1 text-sm font-medium text-slate-600\"\r\n                    >\r\n                      Invoice No <span className=\"text-red-500\">*</span>\r\n                    </label>\r\n                    <input\r\n                      id=\"invoiceNumber\"\r\n                      type=\"text\"\r\n                      className=\"w-full px-3 py-2 border rounded-md border-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                      value={invoiceNumber}\r\n                      onChange={(e) => setInvoiceNumber(e.target.value)}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label\r\n                      htmlFor=\"date\"\r\n                      className=\"block mb-1 text-sm font-medium text-slate-600\"\r\n                    >\r\n                      Date <span className=\"text-red-500\">*</span>\r\n                    </label>\r\n                    <input\r\n                      id=\"date\"\r\n                      type=\"date\"\r\n                      className=\"w-full px-3 py-2 border rounded-md border-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                      value={date}\r\n                      onChange={(e) => setDate(e.target.value)}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  {/* --- MESSAGES --- */}\r\n                  <div className=\"pt-4 space-y-3\">\r\n                    {error && (\r\n                      <div\r\n                        className=\"p-3 text-sm text-red-800 bg-red-100 rounded-lg\"\r\n                        role=\"alert\"\r\n                      >\r\n                        {error}\r\n                      </div>\r\n                    )}\r\n                    {message && (\r\n                      <div\r\n                        className=\"p-3 text-sm text-green-800 bg-green-100 rounded-lg\"\r\n                        role=\"alert\"\r\n                      >\r\n                        {message}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  {/* --- ACTION BUTTONS --- */}\r\n                  <div className=\"flex flex-col gap-3 pt-6 sm:flex-row\">\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"flex items-center justify-center w-full px-6 py-2.5 font-semibold text-white bg-indigo-600 rounded-md shadow-sm sm:w-auto hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:bg-indigo-300\"\r\n                      disabled={loading || fileProcessing}\r\n                    >\r\n                      {loading ? (\r\n                        <>\r\n                          <Loader2 className=\"w-5 h-5 mr-2 animate-spin\" />\r\n                          Submitting...\r\n                        </>\r\n                      ) : (\r\n                        \"Submit Entry\"\r\n                      )}\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={clearForm}\r\n                      className=\"w-full px-6 py-2.5 font-semibold text-slate-700 bg-slate-200 rounded-md sm:w-auto hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50\"\r\n                      disabled={loading || fileProcessing}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n            {/* --- RIGHT COLUMN: MEDICINE LIST --- */}\r\n            <div className=\"lg:col-span-3\">\r\n              <div className=\"p-6 bg-white rounded-lg shadow-md\">\r\n                <div className=\"flex flex-col items-start justify-between gap-4 mb-5 sm:flex-row sm:items-center\">\r\n                  <h3 className=\"text-2xl font-bold text-slate-800\">\r\n                    Medicine Items ({medicines.length})\r\n                  </h3>\r\n                  <div className=\"flex gap-2\">\r\n                    <label\r\n                      htmlFor=\"file-upload\"\r\n                      className=\"flex items-center justify-center gap-2 px-4 py-2 font-semibold text-white bg-blue-600 rounded-md shadow-sm cursor-pointer hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\r\n                    >\r\n                      <FileUp size={20} />\r\n                      Upload img/pdf\r\n                    </label>\r\n                    <input\r\n                      id=\"file-upload\"\r\n                      type=\"file\"\r\n                      className=\"hidden\"\r\n                      onChange={handleFileChange}\r\n                      accept=\"image/*, application/pdf\"\r\n                      disabled={loading || fileProcessing}\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowAddMedicineModal(true)}\r\n                      className=\"flex items-center justify-center gap-2 px-4 py-2 font-semibold text-white bg-green-600 rounded-md shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2\"\r\n                      disabled={loading || fileProcessing}\r\n                    >\r\n                      <PlusCircle size={20} />\r\n                      Add Medicine\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                {/* --- RESPONSIVE MEDICINE LIST --- */}\r\n                <div className=\"space-y-4\">\r\n                  {medicines.length === 0 ? (\r\n                    <div className=\"py-12 text-center border-2 border-dashed rounded-lg border-slate-200\">\r\n                      <PackagePlus className=\"w-12 h-12 mx-auto mb-2 text-slate-400\" />\r\n                      <p className=\"font-medium text-slate-500\">\r\n                        No medicines added yet.\r\n                      </p>\r\n                      <p className=\"text-sm text-slate-400\">\r\n                        Upload an invoice to fill automatically or click \"Add Medicine\" to enter manually.\r\n                      </p>\r\n                    </div>\r\n                  ) : (\r\n                    medicines.map((med, idx) => (\r\n                      <div\r\n                        key={idx}\r\n                        className=\"p-4 transition-all duration-300 bg-white border rounded-lg shadow-sm border-slate-200 hover:shadow-md hover:border-indigo-200\"\r\n                      >\r\n                        {/* Card Header */}\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div>\r\n                            <p className=\"font-bold text-indigo-700\">\r\n                              {med.medicine_name}\r\n                            </p>\r\n                            <p className=\"text-sm text-slate-500\">\r\n                              {med.brand_name}\r\n                            </p>\r\n                          </div>\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"p-1 text-red-500 rounded-full hover:bg-red-100 hover:text-red-700\"\r\n                            onClick={() => handleDeleteMedicine(idx)}\r\n                            aria-label=\"Delete medicine\"\r\n                          >\r\n                            <Trash2 size={18} />\r\n                          </button>\r\n                        </div>\r\n                        {/* Card Body - Responsive Grid */}\r\n                        <div className=\"grid grid-cols-2 gap-x-4 gap-y-3 mt-4 text-sm sm:grid-cols-3 md:grid-cols-4\">\r\n                          <div>\r\n                            <span className=\"block text-xs font-medium text-slate-500\">\r\n                              Batch No.\r\n                            </span>\r\n                            <span className=\"font-semibold text-slate-700\">\r\n                              {med.batch_no}\r\n                            </span>\r\n                          </div>\r\n                          <div>\r\n                            <span className=\"block text-xs font-medium text-slate-500\">\r\n                              Quantity\r\n                            </span>\r\n                            <span className=\"font-semibold text-slate-700\">\r\n                              {med.stock_quantity}\r\n                            </span>\r\n                          </div>\r\n                          <div>\r\n                            <span className=\"block text-xs font-medium text-slate-500\">\r\n                              MRP\r\n                            </span>\r\n                            <span className=\"font-semibold text-slate-700\">\r\n                              ₹{med.mrp}\r\n                            </span>\r\n                          </div>\r\n                          <div>\r\n                            <span className=\"block text-xs font-medium text-slate-500\">\r\n                              Purchase\r\n                            </span>\r\n                            <span className=\"font-semibold text-slate-700\">\r\n                              ₹{med.purchase_price}\r\n                            </span>\r\n                          </div>\r\n                          <div>\r\n                            <span className=\"block text-xs font-medium text-slate-500\">\r\n                              Packed Type\r\n                            </span>\r\n                            <span className=\"font-semibold text-slate-700\">\r\n                              {med.packed_type}\r\n                            </span>\r\n                          </div>\r\n                          <div>\r\n                            <span className=\"block text-xs font-medium text-slate-500\">\r\n                              MFG Date\r\n                            </span>\r\n                            <span className=\"font-semibold text-slate-700\">\r\n                              {med.mfg_date}\r\n                            </span>\r\n                          </div>\r\n                          <div\r\n                            className={\r\n                              new Date(med.expiry_date) < new Date()\r\n                                ? \"text-red-600\"\r\n                                : \"\"\r\n                            }\r\n                          >\r\n                            <span className=\"block text-xs font-medium text-slate-500\">\r\n                              Expiry Date\r\n                            </span>\r\n                            <span className=\"font-semibold\">\r\n                              {med.expiry_date}{\" \"}\r\n                              {new Date(med.expiry_date) < new Date() && (\r\n                                <AlertTriangle className=\"inline w-4 h-4 ml-1\" />\r\n                              )}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* --- MODAL --- */}\r\n      {showAddMedicineModal && (\r\n        <AddMedicineModal\r\n          onClose={() => setShowAddMedicineModal(false)}\r\n          onAddMedicine={handleAddMedicine}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default StockEntryResponsive;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}