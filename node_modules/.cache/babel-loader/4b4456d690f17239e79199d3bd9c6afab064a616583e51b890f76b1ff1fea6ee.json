{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\frontend\\\\src\\\\components\\\\Admin\\\\reportFeature\\\\sales.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { Search, Eye, User, Calendar, X, ChevronsUpDown, DollarSign, ArrowLeft, ChevronLeft, ChevronRight, Loader2 } from 'lucide-react';\nimport axios from 'axios';\n\n// --- AXIOS API INSTANCE WITH AUTHORIZATION ---\n// Create an instance of axios that will be used for all API requests.\n// It's configured to automatically include the auth token from localStorage.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api = axios.create({\n  baseURL: 'https://your-api-url.com/api' // Replace with your actual API base URL\n});\n\n// Use an interceptor to add the token to every request\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token'); // Assumes token is stored in localStorage with key 'authToken'\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// --- MOCK API RESPONSES (for fallback if needed) ---\nconst mockSalesListResponse = {\n  status: \"success\",\n  count: 22,\n  data: [{\n    sale_id: 1,\n    sale_no: \"00125Aug1VLCG\",\n    sale_date: \"2025-08-03T10:06:16.082Z\",\n    customer_name: \"Maria Garcia\",\n    employee_name: \"Amit Verma\",\n    payment_method: \"Cash\",\n    total_amount: \"130.00\",\n    profit: \"98.00\"\n  }, {\n    sale_id: 2,\n    sale_no: \"00125Aug1VLC0\",\n    sale_date: \"2025-08-03T10:06:00.703Z\",\n    customer_name: \"LALIT CHOUDHARY\",\n    employee_name: \"Amit Verma\",\n    payment_method: \"UPI\",\n    total_amount: \"250.50\",\n    profit: \"150.00\"\n  }, {\n    sale_id: 3,\n    sale_no: \"00125Aug2ABC1\",\n    sale_date: \"2025-08-02T15:20:10.000Z\",\n    customer_name: \"Robert Wilson\",\n    employee_name: \"Priya Singh\",\n    payment_method: \"Credit\",\n    total_amount: \"75.00\",\n    profit: \"30.00\"\n  }, {\n    sale_id: 4,\n    sale_no: \"00125Aug2DEF2\",\n    sale_date: \"2025-08-02T14:05:30.000Z\",\n    customer_name: \"Emily Davis\",\n    employee_name: \"Amit Verma\",\n    payment_method: \"Cash\",\n    total_amount: \"320.75\",\n    profit: \"120.25\"\n  }, {\n    sale_id: 5,\n    sale_no: \"00125Aug3GHI3\",\n    sale_date: \"2025-08-01T11:45:00.000Z\",\n    customer_name: \"John Smith\",\n    employee_name: \"Rahul Kumar\",\n    payment_method: \"UPI\",\n    total_amount: \"180.00\",\n    profit: \"90.00\"\n  }]\n};\nconst mockSaleDetailResponse = {\n  status: \"success\",\n  data: {\n    sale_id: 2,\n    sale_no: \"00125Aug1VLC0\",\n    sale_date: \"2025-08-03T10:06:00.703Z\",\n    customer_name: \"LALIT CHOUDHARY\",\n    contact_number: \"9902903433\",\n    employee_name: \"Amit Verma\",\n    payment_method: \"UPI\",\n    total_amount: \"250.50\",\n    profit: \"150.00\",\n    sale_items: [{\n      medicine_name: \"Paracetamol\",\n      rate: 50,\n      expiry_date: \"2026-05-01\",\n      quantity: 2,\n      purchase_price: 12\n    }, {\n      medicine_name: \"Omeprazole\",\n      rate: 30,\n      expiry_date: \"2026-06-01\",\n      quantity: 1,\n      purchase_price: 10\n    }, {\n      medicine_name: \"Vitamin C\",\n      rate: 120.50,\n      expiry_date: \"2025-12-01\",\n      quantity: 1,\n      purchase_price: 80\n    }]\n  }\n};\n\n// --- HELPER FUNCTIONS & COMPONENTS ---\n\n// Helper to format currency\nconst formatRupees = amount => {\n  return new Intl.NumberFormat('en-IN', {\n    style: 'currency',\n    currency: 'INR'\n  }).format(amount);\n};\n\n// Helper to get color for payment method badge\nconst getPaymentMethodColor = method => {\n  switch (method === null || method === void 0 ? void 0 : method.toLowerCase()) {\n    case 'cash':\n      return 'bg-green-100 text-green-800';\n    case 'upi':\n      return 'bg-blue-100 text-blue-800';\n    case 'credit':\n      return 'bg-orange-100 text-orange-800';\n    default:\n      return 'bg-gray-100 text-gray-800';\n  }\n};\n\n// Reusable Loader Component\nconst Loader = ({\n  text = \"Loading...\"\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex flex-col justify-center items-center gap-4\",\n  children: [/*#__PURE__*/_jsxDEV(Loader2, {\n    className: \"animate-spin text-blue-500\",\n    size: 48\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-lg text-gray-600\",\n    children: text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 82,\n  columnNumber: 5\n}, this);\n\n// --- SUB-COMPONENTS ---\n\n// Modal for displaying sale details\n_c = Loader;\nconst SaleDetailsModal = ({\n  sale,\n  onClose,\n  isLoading\n}) => {\n  var _sale$sale_items;\n  if (!sale) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto relative\",\n      children: [isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 bg-white/80 backdrop-blur-sm flex justify-center items-center z-20 rounded-2xl\",\n        children: /*#__PURE__*/_jsxDEV(Loader, {\n          text: \"Fetching details...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-b border-gray-200 sticky top-0 bg-white z-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800\",\n            children: \"Sale Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 bg-gray-50 p-3 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              className: \"text-gray-500\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"Customer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: sale.customer_name || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 bg-gray-50 p-3 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              className: \"text-gray-500\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"Employee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: sale.employee_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 bg-gray-50 p-3 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(Calendar, {\n              className: \"text-gray-500\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"Date & Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-gray-800\",\n                children: new Date(sale.sale_date).toLocaleString('en-US', {\n                  year: 'numeric',\n                  month: '2-digit',\n                  day: '2-digit',\n                  hour: '2-digit',\n                  minute: '2-digit',\n                  hour12: true\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold text-gray-800 mb-4\",\n          children: \"Sale Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: (_sale$sale_items = sale.sale_items) === null || _sale$sale_items === void 0 ? void 0 : _sale$sale_items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border-2 border-blue-500 rounded-xl p-4 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-bold text-gray-800 text-lg\",\n                children: item.medicine_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold text-green-600 text-lg\",\n                children: formatRupees(item.rate * item.quantity)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-3 gap-4 mt-3 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500\",\n                  children: \"Rate:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold text-gray-700\",\n                  children: formatRupees(item.rate)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 62\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500\",\n                  children: \"Quantity:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold text-gray-700\",\n                  children: item.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 66\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500\",\n                  children: \"Expiry Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold text-gray-700\",\n                  children: item.expiry_date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 69\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 mt-4 sticky bottom-0 bg-gradient-to-t from-white via-white to-transparent\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-50 p-5 rounded-xl space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xl font-bold text-green-800\",\n              children: \"Total Amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-3xl font-extrabold text-green-700\",\n              children: formatRupees(sale.total_amount)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center border-t border-green-200 pt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600 font-semibold\",\n              children: \"Payment Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `px-3 py-1 text-sm font-bold rounded-full ${getPaymentMethodColor(sale.payment_method)}`,\n              children: sale.payment_method\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n\n// --- MAIN COMPONENT ---\n_c2 = SaleDetailsModal;\nexport default function App() {\n  _s();\n  const [sales, setSales] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchField, setSearchField] = useState('sale_no');\n  const [sortConfig, setSortConfig] = useState({\n    key: 'sale_date',\n    direction: 'descending'\n  });\n  const [selectedSale, setSelectedSale] = useState(null);\n  const [isModalLoading, setIsModalLoading] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const salesPerPage = 20;\n\n  // --- DATA FETCHING ---\n  useEffect(() => {\n    const fetchSales = async () => {\n      setIsLoading(true);\n      setError(null);\n      try {\n        // Using the authorized 'api' instance for the request\n        const response = await api.get('/admin/sales');\n        if (response.data && response.data.status === 'success') {\n          setSales(response.data.data);\n        } else {\n          throw new Error(\"Failed to fetch sales data: Invalid response format.\");\n        }\n      } catch (err) {\n        setError(err.message);\n        console.error(\"Fetch sales error:\", err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchSales();\n  }, []);\n  const handleViewClick = async sale => {\n    setSelectedSale(sale); // Open modal immediately with basic info\n    setIsModalLoading(true);\n    try {\n      // Using the authorized 'api' instance for the request\n      const response = await api.get(`/sales/${sale.sale_no}`);\n      if (response.data && response.data.status === 'success') {\n        setSelectedSale(response.data.data);\n      } else {\n        throw new Error(\"Failed to fetch sale details.\");\n      }\n    } catch (err) {\n      console.error(\"Fetch sale details error:\", err);\n      // Optionally, show an error in the modal\n    } finally {\n      setIsModalLoading(false);\n    }\n  };\n\n  // --- FILTERING, SORTING, PAGINATION ---\n  const filteredSales = useMemo(() => {\n    if (!sales) return [];\n    let searchableItems = [...sales];\n    if (searchTerm) {\n      searchableItems = searchableItems.filter(sale => {\n        const fieldValue = sale[searchField] ? String(sale[searchField]) : '';\n        return fieldValue.toLowerCase().includes(searchTerm.toLowerCase());\n      });\n    }\n    searchableItems.sort((a, b) => {\n      let aValue = a[sortConfig.key];\n      let bValue = b[sortConfig.key];\n      if (sortConfig.direction === 'ascending') {\n        return aValue > bValue ? 1 : -1;\n      }\n      return aValue < bValue ? 1 : -1;\n    });\n    return searchableItems;\n  }, [sales, searchTerm, searchField, sortConfig]);\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [searchTerm, searchField, sortConfig]);\n  const totalPages = Math.ceil(filteredSales.length / salesPerPage);\n  const paginatedSales = useMemo(() => {\n    const startIndex = (currentPage - 1) * salesPerPage;\n    return filteredSales.slice(startIndex, startIndex + salesPerPage);\n  }, [filteredSales, currentPage, salesPerPage]);\n  const handleNextPage = () => setCurrentPage(prev => Math.min(prev + 1, totalPages));\n  const handlePrevPage = () => setCurrentPage(prev => Math.max(prev - 1, 1));\n\n  // --- RENDER LOGIC ---\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-white/80 backdrop-blur-sm flex justify-center items-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        text: \"Loading Sales Report...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center p-10 text-red-500\",\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-50 min-h-screen font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto p-4 md:p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"flex items-center gap-4 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-gray-500 hover:text-gray-800 p-2 rounded-full hover:bg-gray-200 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 120\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-grow flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-800\",\n            children: \"Sales Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-200 text-gray-700 text-sm font-semibold px-3 py-1 rounded-full\",\n            children: [sales.length, \" Sales\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-xl shadow-sm mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative md:col-span-1\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search...\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative md:col-span-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: searchField,\n              onChange: e => setSearchField(e.target.value),\n              className: \"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"sale_no\",\n                children: \"Sale No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"customer_name\",\n                children: \"Customer Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"employee_name\",\n                children: \"Employee Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(ChevronsUpDown, {\n              className: \"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative md:col-span-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              onChange: e => setSortConfig({\n                ...sortConfig,\n                direction: e.target.value\n              }),\n              className: \"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"descending\",\n                children: \"Newest First\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ascending\",\n                children: \"Oldest First\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(ChevronsUpDown, {\n              className: \"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-gray-800\",\n            children: \"Sales Transactions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hidden md:block\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full text-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"border-b border-gray-200\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-4 text-sm font-semibold text-gray-500\",\n                  children: \"Sale No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-4 text-sm font-semibold text-gray-500\",\n                  children: \"Customer Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-4 text-sm font-semibold text-gray-500\",\n                  children: \"Employee Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-4 text-sm font-semibold text-gray-500\",\n                  children: \"Total Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-4 text-sm font-semibold text-gray-500 text-right\",\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 65\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: paginatedSales.map(sale => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-b border-gray-100 last:border-b-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-4 font-mono text-xs text-gray-700\",\n                  children: sale.sale_no\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-4 font-medium text-gray-800\",\n                  children: sale.customer_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-4 text-gray-600\",\n                  children: sale.employee_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-4 font-semibold text-green-600\",\n                  children: formatRupees(sale.total_amount)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-4 text-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleViewClick(sale),\n                    className: \"bg-gray-800 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-700 transition\",\n                    children: [/*#__PURE__*/_jsxDEV(Eye, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 339,\n                      columnNumber: 215\n                    }, this), \"View\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 60\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 29\n                }, this)]\n              }, sale.sale_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this), paginatedSales.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-10 text-gray-500\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No sales found.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 93\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 45\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm mt-6 p-4 flex items-center justify-between text-sm text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Page \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold\",\n            children: currentPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 27\n          }, this), \" of \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold\",\n            children: totalPages\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 79\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePrevPage,\n            disabled: currentPage === 1,\n            className: \"px-3 py-2 border rounded-lg flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 213\n            }, this), \"Previous\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleNextPage,\n            disabled: currentPage === totalPages,\n            className: \"px-3 py-2 border rounded-lg flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100\",\n            children: [\"Next\", /*#__PURE__*/_jsxDEV(ChevronRight, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 226\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), selectedSale && /*#__PURE__*/_jsxDEV(SaleDetailsModal, {\n      sale: selectedSale,\n      onClose: () => setSelectedSale(null),\n      isLoading: isModalLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 288,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"VLMw/gg5/EmMwzqaUPx4KENkG64=\");\n_c3 = App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Loader\");\n$RefreshReg$(_c2, \"SaleDetailsModal\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","Search","Eye","User","Calendar","X","ChevronsUpDown","DollarSign","ArrowLeft","ChevronLeft","ChevronRight","Loader2","axios","jsxDEV","_jsxDEV","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","error","Promise","reject","mockSalesListResponse","status","count","data","sale_id","sale_no","sale_date","customer_name","employee_name","payment_method","total_amount","profit","mockSaleDetailResponse","contact_number","sale_items","medicine_name","rate","expiry_date","quantity","purchase_price","formatRupees","amount","Intl","NumberFormat","style","currency","format","getPaymentMethodColor","method","toLowerCase","Loader","text","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","_c","SaleDetailsModal","sale","onClose","isLoading","_sale$sale_items","onClick","Date","toLocaleString","year","month","day","hour","minute","hour12","map","item","index","_c2","App","_s","sales","setSales","setIsLoading","setError","searchTerm","setSearchTerm","searchField","setSearchField","sortConfig","setSortConfig","key","direction","selectedSale","setSelectedSale","isModalLoading","setIsModalLoading","currentPage","setCurrentPage","salesPerPage","fetchSales","response","get","Error","err","message","console","handleViewClick","filteredSales","searchableItems","filter","fieldValue","String","includes","sort","a","b","aValue","bValue","totalPages","Math","ceil","length","paginatedSales","startIndex","slice","handleNextPage","prev","min","handlePrevPage","max","type","placeholder","value","onChange","e","target","disabled","_c3","$RefreshReg$"],"sources":["C:/Users/hp/OneDrive/Desktop/frontend/src/components/Admin/reportFeature/sales.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { Search, Eye, User, Calendar, X, ChevronsUpDown, DollarSign, ArrowLeft, ChevronLeft, ChevronRight, Loader2 } from 'lucide-react';\r\nimport axios from 'axios';\r\n\r\n\r\n// --- AXIOS API INSTANCE WITH AUTHORIZATION ---\r\n// Create an instance of axios that will be used for all API requests.\r\n// It's configured to automatically include the auth token from localStorage.\r\n\r\nconst api = axios.create({\r\n  baseURL: 'https://your-api-url.com/api', // Replace with your actual API base URL\r\n});\r\n\r\n// Use an interceptor to add the token to every request\r\napi.interceptors.request.use(config => {\r\n  const token = localStorage.getItem('token'); // Assumes token is stored in localStorage with key 'authToken'\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n}, error => {\r\n  return Promise.reject(error);\r\n});\r\n\r\n\r\n// --- MOCK API RESPONSES (for fallback if needed) ---\r\nconst mockSalesListResponse = {\r\n  status: \"success\",\r\n  count: 22,\r\n  data: [\r\n    { sale_id: 1, sale_no: \"00125Aug1VLCG\", sale_date: \"2025-08-03T10:06:16.082Z\", customer_name: \"Maria Garcia\", employee_name: \"Amit Verma\", payment_method: \"Cash\", total_amount: \"130.00\", profit: \"98.00\" },\r\n    { sale_id: 2, sale_no: \"00125Aug1VLC0\", sale_date: \"2025-08-03T10:06:00.703Z\", customer_name: \"LALIT CHOUDHARY\", employee_name: \"Amit Verma\", payment_method: \"UPI\", total_amount: \"250.50\", profit: \"150.00\" },\r\n    { sale_id: 3, sale_no: \"00125Aug2ABC1\", sale_date: \"2025-08-02T15:20:10.000Z\", customer_name: \"Robert Wilson\", employee_name: \"Priya Singh\", payment_method: \"Credit\", total_amount: \"75.00\", profit: \"30.00\" },\r\n    { sale_id: 4, sale_no: \"00125Aug2DEF2\", sale_date: \"2025-08-02T14:05:30.000Z\", customer_name: \"Emily Davis\", employee_name: \"Amit Verma\", payment_method: \"Cash\", total_amount: \"320.75\", profit: \"120.25\" },\r\n    { sale_id: 5, sale_no: \"00125Aug3GHI3\", sale_date: \"2025-08-01T11:45:00.000Z\", customer_name: \"John Smith\", employee_name: \"Rahul Kumar\", payment_method: \"UPI\", total_amount: \"180.00\", profit: \"90.00\" },\r\n  ]\r\n};\r\n\r\nconst mockSaleDetailResponse = {\r\n    status: \"success\",\r\n    data: {\r\n        sale_id: 2,\r\n        sale_no: \"00125Aug1VLC0\",\r\n        sale_date: \"2025-08-03T10:06:00.703Z\",\r\n        customer_name: \"LALIT CHOUDHARY\",\r\n        contact_number: \"9902903433\",\r\n        employee_name: \"Amit Verma\",\r\n        payment_method: \"UPI\",\r\n        total_amount: \"250.50\",\r\n        profit: \"150.00\",\r\n        sale_items: [\r\n            { medicine_name: \"Paracetamol\", rate: 50, expiry_date: \"2026-05-01\", quantity: 2, purchase_price: 12 },\r\n            { medicine_name: \"Omeprazole\", rate: 30, expiry_date: \"2026-06-01\", quantity: 1, purchase_price: 10 },\r\n            { medicine_name: \"Vitamin C\", rate: 120.50, expiry_date: \"2025-12-01\", quantity: 1, purchase_price: 80 },\r\n        ]\r\n    }\r\n};\r\n\r\n\r\n// --- HELPER FUNCTIONS & COMPONENTS ---\r\n\r\n// Helper to format currency\r\nconst formatRupees = (amount) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n        style: 'currency',\r\n        currency: 'INR',\r\n    }).format(amount);\r\n};\r\n\r\n// Helper to get color for payment method badge\r\nconst getPaymentMethodColor = (method) => {\r\n    switch (method?.toLowerCase()) {\r\n        case 'cash': return 'bg-green-100 text-green-800';\r\n        case 'upi': return 'bg-blue-100 text-blue-800';\r\n        case 'credit': return 'bg-orange-100 text-orange-800';\r\n        default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n};\r\n\r\n// Reusable Loader Component\r\nconst Loader = ({ text = \"Loading...\" }) => (\r\n    <div className=\"flex flex-col justify-center items-center gap-4\">\r\n        <Loader2 className=\"animate-spin text-blue-500\" size={48} />\r\n        <p className=\"text-lg text-gray-600\">{text}</p>\r\n    </div>\r\n);\r\n\r\n// --- SUB-COMPONENTS ---\r\n\r\n// Modal for displaying sale details\r\nconst SaleDetailsModal = ({ sale, onClose, isLoading }) => {\r\n  if (!sale) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto relative\">\r\n        {/* Modal-specific Loader */}\r\n        {isLoading && (\r\n            <div className=\"absolute inset-0 bg-white/80 backdrop-blur-sm flex justify-center items-center z-20 rounded-2xl\">\r\n                <Loader text=\"Fetching details...\" />\r\n            </div>\r\n        )}\r\n        \r\n        <div className=\"p-6 border-b border-gray-200 sticky top-0 bg-white z-10\">\r\n          <div className=\"flex justify-between items-center mb-6\">\r\n            <h2 className=\"text-2xl font-bold text-gray-800\">Sale Details</h2>\r\n            <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\r\n              <X size={24} />\r\n            </button>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\r\n            <div className=\"flex items-center gap-3 bg-gray-50 p-3 rounded-lg\">\r\n              <User className=\"text-gray-500\" size={20} />\r\n              <div>\r\n                <p className=\"text-gray-500\">Customer</p>\r\n                <p className=\"font-semibold text-gray-800\">{sale.customer_name || 'N/A'}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-3 bg-gray-50 p-3 rounded-lg\">\r\n              <User className=\"text-gray-500\" size={20} />\r\n              <div>\r\n                <p className=\"text-gray-500\">Employee</p>\r\n                <p className=\"font-semibold text-gray-800\">{sale.employee_name}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-3 bg-gray-50 p-3 rounded-lg\">\r\n              <Calendar className=\"text-gray-500\" size={20} />\r\n              <div>\r\n                <p className=\"text-gray-500\">Date & Time</p>\r\n                <p className=\"font-semibold text-gray-800\">\r\n                  {new Date(sale.sale_date).toLocaleString('en-US', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', hour12: true })}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          <h3 className=\"text-lg font-bold text-gray-800 mb-4\">Sale Items</h3>\r\n          <div className=\"space-y-4\">\r\n            {sale.sale_items?.map((item, index) => (\r\n              <div key={index} className=\"bg-white border-2 border-blue-500 rounded-xl p-4 shadow-sm\">\r\n                <div className=\"flex justify-between items-start\">\r\n                  <h4 className=\"font-bold text-gray-800 text-lg\">{item.medicine_name}</h4>\r\n                  <p className=\"font-bold text-green-600 text-lg\">{formatRupees(item.rate * item.quantity)}</p>\r\n                </div>\r\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 mt-3 text-sm\">\r\n                  <div><p className=\"text-gray-500\">Rate:</p><p className=\"font-semibold text-gray-700\">{formatRupees(item.rate)}</p></div>\r\n                  <div><p className=\"text-gray-500\">Quantity:</p><p className=\"font-semibold text-gray-700\">{item.quantity}</p></div>\r\n                  <div><p className=\"text-gray-500\">Expiry Date:</p><p className=\"font-semibold text-gray-700\">{item.expiry_date}</p></div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6 mt-4 sticky bottom-0 bg-gradient-to-t from-white via-white to-transparent\">\r\n            <div className=\"bg-green-50 p-5 rounded-xl space-y-3\">\r\n                <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-xl font-bold text-green-800\">Total Amount</span>\r\n                    <span className=\"text-3xl font-extrabold text-green-700\">{formatRupees(sale.total_amount)}</span>\r\n                </div>\r\n                 <div className=\"flex justify-between items-center border-t border-green-200 pt-3\">\r\n                    <span className=\"text-gray-600 font-semibold\">Payment Method</span>\r\n                    <span className={`px-3 py-1 text-sm font-bold rounded-full ${getPaymentMethodColor(sale.payment_method)}`}>\r\n                        {sale.payment_method}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n// --- MAIN COMPONENT ---\r\nexport default function App() {\r\n  const [sales, setSales] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  \r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchField, setSearchField] = useState('sale_no');\r\n  const [sortConfig, setSortConfig] = useState({ key: 'sale_date', direction: 'descending' });\r\n  \r\n  const [selectedSale, setSelectedSale] = useState(null);\r\n  const [isModalLoading, setIsModalLoading] = useState(false);\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const salesPerPage = 20;\r\n\r\n  // --- DATA FETCHING ---\r\n  useEffect(() => {\r\n    const fetchSales = async () => {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      try {\r\n        // Using the authorized 'api' instance for the request\r\n        const response = await api.get('/admin/sales');\r\n        \r\n        if (response.data && response.data.status === 'success') {\r\n          setSales(response.data.data);\r\n        } else {\r\n          throw new Error(\"Failed to fetch sales data: Invalid response format.\");\r\n        }\r\n\r\n      } catch (err) {\r\n        setError(err.message);\r\n        console.error(\"Fetch sales error:\", err);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchSales();\r\n  }, []);\r\n\r\n  const handleViewClick = async (sale) => {\r\n    setSelectedSale(sale); // Open modal immediately with basic info\r\n    setIsModalLoading(true);\r\n    try {\r\n        // Using the authorized 'api' instance for the request\r\n        const response = await api.get(`/sales/${sale.sale_no}`);\r\n        \r\n        if (response.data && response.data.status === 'success') {\r\n            setSelectedSale(response.data.data);\r\n        } else {\r\n             throw new Error(\"Failed to fetch sale details.\");\r\n        }\r\n    } catch (err) {\r\n        console.error(\"Fetch sale details error:\", err);\r\n        // Optionally, show an error in the modal\r\n    } finally {\r\n        setIsModalLoading(false);\r\n    }\r\n  };\r\n\r\n\r\n  // --- FILTERING, SORTING, PAGINATION ---\r\n  const filteredSales = useMemo(() => {\r\n    if (!sales) return [];\r\n    let searchableItems = [...sales];\r\n\r\n    if (searchTerm) {\r\n      searchableItems = searchableItems.filter(sale => {\r\n        const fieldValue = sale[searchField] ? String(sale[searchField]) : '';\r\n        return fieldValue.toLowerCase().includes(searchTerm.toLowerCase());\r\n      });\r\n    }\r\n\r\n    searchableItems.sort((a, b) => {\r\n        let aValue = a[sortConfig.key];\r\n        let bValue = b[sortConfig.key];\r\n        if (sortConfig.direction === 'ascending') {\r\n            return aValue > bValue ? 1 : -1;\r\n        }\r\n        return aValue < bValue ? 1 : -1;\r\n    });\r\n\r\n    return searchableItems;\r\n  }, [sales, searchTerm, searchField, sortConfig]);\r\n\r\n  useEffect(() => { setCurrentPage(1); }, [searchTerm, searchField, sortConfig]);\r\n\r\n  const totalPages = Math.ceil(filteredSales.length / salesPerPage);\r\n  const paginatedSales = useMemo(() => {\r\n    const startIndex = (currentPage - 1) * salesPerPage;\r\n    return filteredSales.slice(startIndex, startIndex + salesPerPage);\r\n  }, [filteredSales, currentPage, salesPerPage]);\r\n\r\n  const handleNextPage = () => setCurrentPage(prev => Math.min(prev + 1, totalPages));\r\n  const handlePrevPage = () => setCurrentPage(prev => Math.max(prev - 1, 1));\r\n  \r\n  // --- RENDER LOGIC ---\r\n  if (isLoading) {\r\n    return (\r\n        <div className=\"fixed inset-0 bg-white/80 backdrop-blur-sm flex justify-center items-center z-50\">\r\n            <Loader text=\"Loading Sales Report...\" />\r\n        </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"text-center p-10 text-red-500\">Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-gray-50 min-h-screen font-sans\">\r\n      <div className=\"container mx-auto p-4 md:p-8\">\r\n        <header className=\"flex items-center gap-4 mb-8\">\r\n            <button className=\"text-gray-500 hover:text-gray-800 p-2 rounded-full hover:bg-gray-200 transition-colors\"><ArrowLeft size={24} /></button>\r\n            <div className=\"flex-grow flex justify-between items-center\">\r\n                 <h1 className=\"text-3xl font-bold text-gray-800\">Sales Report</h1>\r\n                 <div className=\"bg-gray-200 text-gray-700 text-sm font-semibold px-3 py-1 rounded-full\">{sales.length} Sales</div>\r\n            </div>\r\n        </header>\r\n\r\n        <div className=\"bg-white p-4 rounded-xl shadow-sm mb-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-center\">\r\n            <div className=\"relative md:col-span-1\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={20} />\r\n              <input type=\"text\" placeholder=\"Search...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </div>\r\n            <div className=\"relative md:col-span-1\">\r\n               <select value={searchField} onChange={e => setSearchField(e.target.value)} className=\"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500\">\r\n                  <option value=\"sale_no\">Sale No</option>\r\n                  <option value=\"customer_name\">Customer Name</option>\r\n                  <option value=\"employee_name\">Employee Name</option>\r\n               </select>\r\n               <ChevronsUpDown className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none\" size={20} />\r\n            </div>\r\n            <div className=\"relative md:col-span-1\">\r\n               <select onChange={e => setSortConfig({ ...sortConfig, direction: e.target.value })} className=\"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500\">\r\n                  <option value=\"descending\">Newest First</option>\r\n                  <option value=\"ascending\">Oldest First</option>\r\n               </select>\r\n               <ChevronsUpDown className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none\" size={20} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl shadow-sm overflow-hidden\">\r\n            <div className=\"p-6\"><h2 className=\"text-xl font-bold text-gray-800\">Sales Transactions</h2></div>\r\n            <div className=\"hidden md:block\">\r\n                <table className=\"w-full text-left\">\r\n                    <thead className=\"border-b border-gray-200\"><tr>\r\n                        <th className=\"p-4 text-sm font-semibold text-gray-500\">Sale No</th>\r\n                        <th className=\"p-4 text-sm font-semibold text-gray-500\">Customer Name</th>\r\n                        <th className=\"p-4 text-sm font-semibold text-gray-500\">Employee Name</th>\r\n                        <th className=\"p-4 text-sm font-semibold text-gray-500\">Total Amount</th>\r\n                        <th className=\"p-4 text-sm font-semibold text-gray-500 text-right\">Action</th>\r\n                    </tr></thead>\r\n                    <tbody>{paginatedSales.map((sale) => (\r\n                        <tr key={sale.sale_id} className=\"border-b border-gray-100 last:border-b-0\">\r\n                            <td className=\"p-4 font-mono text-xs text-gray-700\">{sale.sale_no}</td>\r\n                            <td className=\"p-4 font-medium text-gray-800\">{sale.customer_name}</td>\r\n                            <td className=\"p-4 text-gray-600\">{sale.employee_name}</td>\r\n                            <td className=\"p-4 font-semibold text-green-600\">{formatRupees(sale.total_amount)}</td>\r\n                            <td className=\"p-4 text-right\"><button onClick={() => handleViewClick(sale)} className=\"bg-gray-800 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-700 transition\"><Eye size={16} />View</button></td>\r\n                        </tr>\r\n                    ))}</tbody>\r\n                </table>\r\n            </div>\r\n            {paginatedSales.length === 0 && <div className=\"text-center p-10 text-gray-500\"><p>No sales found.</p></div>}\r\n        </div>\r\n\r\n        {totalPages > 1 && (\r\n            <div className=\"bg-white rounded-xl shadow-sm mt-6 p-4 flex items-center justify-between text-sm text-gray-600\">\r\n                <div>Page <span className=\"font-bold\">{currentPage}</span> of <span className=\"font-bold\">{totalPages}</span></div>\r\n                <div className=\"flex items-center gap-2\">\r\n                    <button onClick={handlePrevPage} disabled={currentPage === 1} className=\"px-3 py-2 border rounded-lg flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100\"><ChevronLeft size={16} />Previous</button>\r\n                    <button onClick={handleNextPage} disabled={currentPage === totalPages} className=\"px-3 py-2 border rounded-lg flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100\">Next<ChevronRight size={16} /></button>\r\n                </div>\r\n            </div>\r\n        )}\r\n      </div>\r\n\r\n      {selectedSale && <SaleDetailsModal sale={selectedSale} onClose={() => setSelectedSale(null)} isLoading={isModalLoading} />}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}