{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\frontend\\\\src\\\\components\\\\Billing.js\",\n  _s = $RefreshSig$();\n// Billing.jsx\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { ArrowLeft, PlusCircle } from \"lucide-react\";\nimport { useNavigate } from \"react-router-dom\";\nimport AddMedicineModal from \"../\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BASE_URL = \"https://localhost:4000\";\nconst token = localStorage.getItem(\"lalit_choudhary\") || \"\";\nconst billColors = [\"bg-purple-100\", \"bg-green-50\", \"bg-blue-100\"];\nconst Billing = () => {\n  _s();\n  const [activeBillIndex, setActiveBillIndex] = useState(0);\n  const [message, setMessage] = useState(\"\");\n  const [messageType, setMessageType] = useState(\"success\");\n  const [showModal, setShowModal] = useState(false);\n  const navigate = useNavigate();\n  const generateNewBill = async () => {\n    try {\n      const response = await axios.post(`${BASE_URL}/admin/sales`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.status === 200) {\n        setMessage(\"Bill generated successfully.\");\n        setMessageType(\"success\");\n        setActiveBillIndex(prev => (prev + 1) % 3);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setMessage(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Something went wrong\");\n      setMessageType(\"error\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen ${billColors[activeBillIndex]} text-gray-800 p-4 font-sans flex items-start justify-center`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(-1),\n          className: \"text-green-600 hover:text-green-800 transition-colors p-2\",\n          children: /*#__PURE__*/_jsxDEV(ArrowLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold\",\n          children: [\"Bill #\", activeBillIndex + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mb-4 p-2 rounded ${messageType === \"success\" ? \"bg-green-100 text-green-700\" : \"bg-red-100 text-red-800\"}`,\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: generateNewBill,\n        className: \"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), \" Generate New Bill\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), showModal && /*#__PURE__*/_jsxDEV(AddMedicineModal, {\n        setShowModal: setShowModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(Billing, \"PEMgPZqbL6QOWqHD6YfUDIO4dVY=\", false, function () {\n  return [useNavigate];\n});\n_c = Billing;\nexport default Billing;\nvar _c;\n$RefreshReg$(_c, \"Billing\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","ArrowLeft","PlusCircle","useNavigate","AddMedicineModal","jsxDEV","_jsxDEV","BASE_URL","token","localStorage","getItem","billColors","Billing","_s","activeBillIndex","setActiveBillIndex","message","setMessage","messageType","setMessageType","showModal","setShowModal","navigate","generateNewBill","response","post","headers","Authorization","status","prev","err","_err$response","_err$response$data","data","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","size","_c","$RefreshReg$"],"sources":["C:/Users/hp/OneDrive/Desktop/frontend/src/components/Billing.js"],"sourcesContent":["// Billing.jsx\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport { ArrowLeft, PlusCircle } from \"lucide-react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n import AddMedicineModal from \"../\";\r\n\r\nconst BASE_URL = \"https://localhost:4000\";\r\nconst token = localStorage.getItem(\"lalit_choudhary\") || \"\";\r\n\r\nconst billColors = [\"bg-purple-100\", \"bg-green-50\", \"bg-blue-100\"];\r\n\r\nconst Billing = () => {\r\n  const [activeBillIndex, setActiveBillIndex] = useState(0);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messageType, setMessageType] = useState(\"success\");\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const generateNewBill = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${BASE_URL}/admin/sales`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        setMessage(\"Bill generated successfully.\");\r\n        setMessageType(\"success\");\r\n        setActiveBillIndex((prev) => (prev + 1) % 3);\r\n      }\r\n    } catch (err) {\r\n      setMessage(err.response?.data?.message || \"Something went wrong\");\r\n      setMessageType(\"error\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`min-h-screen ${billColors[activeBillIndex]} text-gray-800 p-4 font-sans flex items-start justify-center`}\r\n    >\r\n      <div className=\"max-w-4xl w-full\">\r\n        <div className=\"flex items-center gap-4 mb-4\">\r\n          <button\r\n            onClick={() => navigate(-1)}\r\n            className=\"text-green-600 hover:text-green-800 transition-colors p-2\"\r\n          >\r\n            <ArrowLeft />\r\n          </button>\r\n          <h1 className=\"text-2xl font-bold\">Bill #{activeBillIndex + 1}</h1>\r\n        </div>\r\n\r\n        {message && (\r\n          <div className={`mb-4 p-2 rounded ${messageType === \"success\" ? \"bg-green-100 text-green-700\" : \"bg-red-100 text-red-800\"}`}>\r\n            {message}\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          onClick={generateNewBill}\r\n          className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 flex items-center gap-2\"\r\n        >\r\n          <PlusCircle size={20} /> Generate New Bill\r\n        </button>\r\n\r\n        {/* Modal for adding medicine */}\r\n        {showModal && <AddMedicineModal setShowModal={setShowModal} />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Billing;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}