{"ast":null,"code":"import React,{useState,useEffect,useMemo}from'react';import{Search,ArrowLeft,X,ChevronLeft,ChevronRight,Trash2,FileSpreadsheet}from'lucide-react';import{useNavigate}from'react-router-dom';import axios from'axios';import BoxLoader from'../../looader/BoxLoader';// IMPORTANT: Replace with your actual API base URL and Bearer token\nimport BASE_URL from'../../../config';// adjust path if file is deeper\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BEARER_TOKEN=localStorage.getItem('lalitkumar_choudhary');// This is a simple mock loader component that fulfills the user's request\n// This is a simple modal for displaying sale details\nconst SalesDetailsModal=_ref=>{let{sale,onClose}=_ref;if(!sale)return null;// Mapping API fields to display names\nconst saleDetails=[{label:'Sale No',value:sale.sale_no},{label:'Sale Date',value:new Date(sale.sale_date).toLocaleString()},{label:'Customer Name',value:sale.customer_name||'N/A'},{label:'Contact Number',value:sale.contact_number||'N/A'},{label:'Employee Name',value:sale.employee_name},{label:'Payment Method',value:sale.payment_method},{label:'Total Amount',value:`₹${parseFloat(sale.total_amount).toLocaleString('en-IN')}`},{label:'Profit',value:`₹${parseFloat(sale.profit).toLocaleString('en-IN')}`}];return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto font-sans\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b sticky top-0 bg-white z-10 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:\"Sale Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-500 hover:text-gray-800\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 grid grid-cols-1 md:grid-cols-2 gap-6\",children:saleDetails.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:item.label}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-800\",children:item.value})]},index))}),sale.sale_items&&sale.sale_items.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-t\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Sale Items\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm text-left text-gray-500 min-w-[500px]\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-xs text-gray-700 uppercase bg-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Medicine Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-right\",children:\"Rate\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-right\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-right\",children:\"Purchase Price\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sale.sale_items.map((item,idx)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-white border-b last:border-b-0\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 font-medium text-gray-900\",children:item.medicine_name}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 text-right\",children:[\"\\u20B9\",item.rate]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 text-right\",children:item.quantity}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 text-right\",children:[\"\\u20B9\",item.purchase_price]})]},idx))})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-t text-right\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"px-4 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200 transition-colors\",children:\"Close\"})})]})});};const paymentBadgeColor={Cash:'bg-yellow-100 text-yellow-800','UPI':'bg-blue-100 text-blue-700','Card':'bg-green-100 text-green-700','Credit Card':'bg-green-100 text-green-700'};function SalesPage(){const[sales,setSales]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[sortOption,setSortOption]=useState('Recent Sales');const[selectedSale,setSelectedSale]=useState(null);const[currentPage,setCurrentPage]=useState(1);const[loading,setLoading]=useState(false);const itemsPerPage=5;const navigate=useNavigate();// Axios client instance with authorization header\nconst api=axios.create({baseURL:BASE_URL,headers:{'Authorization':`Bearer ${BEARER_TOKEN}`}});// Function to fetch all sales data\nconst fetchSales=async()=>{setLoading(true);try{const response=await api.get('/admin/sales');if(response.data&&response.data.status==='success'){// Assuming the API provides a sale_id or similar unique key\nconst formattedSales=response.data.data.map((sale,index)=>({...sale,// The mock data doesn't have sale_id, so we'll use a sequential ID for a unique key\nsale_id:index+1}));setSales(formattedSales);}}catch(error){console.error('Failed to fetch sales data:',error);// Handle error, e.g., show a toast message\n}finally{setLoading(false);}};// Use a useEffect hook to fetch data on component mount\nuseEffect(()=>{fetchSales();},[]);// Function to handle the Excel report download\nconst handleExcelReport=async()=>{setLoading(true);try{// The API response for this is likely a file, we won't process it here\nawait api.get('/admin/export/excel?table=sales',{responseType:'blob'// Important for handling binary data like files\n});// You can optionally create a URL and download the file here\n// const url = window.URL.createObjectURL(new Blob([response.data]));\n// const link = document.createElement('a');\n// link.href = url;\n// link.setAttribute('download', 'sales_report.xlsx');\n// document.body.appendChild(link);\n// link.click();\nconsole.log('Excel report requested successfully.');}catch(error){console.error('Failed to export sales to Excel:',error);}finally{setLoading(false);}};// Function to fetch a single sale's details and open the modal\nconst handleViewSale=async saleId=>{setLoading(true);try{const response=await api.get(`/admin/sales/${saleId}`);if(response.data&&response.data.status==='success'){setSelectedSale(response.data.data);}}catch(error){console.error('Failed to fetch sale details:',error);}finally{setLoading(false);}};// Function to handle the deletion of a sale\nconst handleDeleteSale=async saleId=>{if(!window.confirm(\"Are you sure you want to delete this sale?\")){return;}setLoading(true);try{await api.delete(`/admin/sales/${saleId}`);console.log(`Sale with ID ${saleId} deleted successfully.`);// After successful deletion, refresh the sales list\nawait fetchSales();}catch(error){console.error('Failed to delete sale:',error);}finally{setLoading(false);}};// Memoized filtering and sorting logic\nconst filteredSales=useMemo(()=>{let data=[...sales];if(searchTerm){data=data.filter(s=>s.sale_no.toLowerCase().includes(searchTerm.toLowerCase())||s.employee_name.toLowerCase().includes(searchTerm.toLowerCase()));}switch(sortOption){case'Recent Sales':return data.sort((a,b)=>new Date(b.sale_date)-new Date(a.sale_date));case'Old Sales':return data.sort((a,b)=>new Date(a.sale_date)-new Date(b.sale_date));case'High Sales':return data.sort((a,b)=>parseFloat(b.total_amount)-parseFloat(a.total_amount));case'Low Sales':return data.sort((a,b)=>parseFloat(a.total_amount)-parseFloat(b.total_amount));default:return data;}},[sales,searchTerm,sortOption]);const totalPages=Math.ceil(filteredSales.length/itemsPerPage);const paginatedSales=filteredSales.slice((currentPage-1)*itemsPerPage,currentPage*itemsPerPage);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 min-h-screen p-4 font-sans\",children:[loading&&/*#__PURE__*/_jsx(BoxLoader,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/home/reports'),className:\"p-2 rounded-full hover:bg-gray-200\",children:/*#__PURE__*/_jsx(ArrowLeft,{size:24})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800\",children:\"Sales\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleExcelReport,className:\"flex items-center gap-2 px-4 py-2.5 bg-green-500 text-white rounded-lg shadow-md hover:bg-green-600 transition-colors\",children:[/*#__PURE__*/_jsx(FileSpreadsheet,{size:20}),\"Export Excel Report\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex-grow\",children:[/*#__PURE__*/_jsx(Search,{size:20,className:\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by sale no or employee name...\",value:searchTerm,onChange:e=>{setSearchTerm(e.target.value);setCurrentPage(1);},className:\"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:sortOption,onChange:e=>setSortOption(e.target.value),className:\"w-full md:w-auto bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-700\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Recent Sales\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Old Sales\"}),/*#__PURE__*/_jsx(\"option\",{children:\"High Sales\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Low Sales\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-left min-w-[700px]\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-200\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-4 text-sm font-semibold text-gray-600\",children:\"S.No\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 text-sm font-semibold text-gray-600\",children:\"Sale No\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 text-sm font-semibold text-gray-600\",children:\"Employee Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 text-sm font-semibold text-gray-600\",children:\"Total Amount\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 text-sm font-semibold text-gray-600\",children:\"Payment Method\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 text-sm font-semibold text-gray-600\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:paginatedSales.length>0?paginatedSales.map((sale,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b last:border-b-0 hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-4 text-gray-500\",children:(currentPage-1)*itemsPerPage+index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4 font-medium text-gray-800\",children:sale.sale_no}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4 text-gray-600\",children:sale.employee_name}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-4 font-semibold text-gray-800\",children:[\"\\u20B9\",parseFloat(sale.total_amount).toLocaleString('en-IN')]}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${paymentBadgeColor[sale.payment_method]}`,children:sale.payment_method})}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewSale(sale.sale_id),className:\"bg-blue-500 text-white px-3 py-1.5 text-sm rounded-lg hover:bg-blue-600 transition-colors\",children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteSale(sale.sale_id),className:\"bg-red-500 text-white p-1.5 rounded-lg hover:bg-red-600 transition-colors\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]},sale.sale_no)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"p-4 text-center text-gray-500\",children:\"No sales found.\"})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 border-t\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Page \",currentPage,\" of \",totalPages]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(p=>Math.max(1,p-1)),disabled:currentPage===1,className:\"flex items-center gap-1 px-3 py-2 border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed text-gray-600 hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(ChevronLeft,{size:16}),\" Prev\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentPage(p=>Math.min(totalPages,p+1)),disabled:currentPage===totalPages,className:\"flex items-center gap-1 px-3 py-2 border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed text-gray-600 hover:bg-gray-100\",children:[\"Next \",/*#__PURE__*/_jsx(ChevronRight,{size:16})]})]})]})]}),/*#__PURE__*/_jsx(SalesDetailsModal,{sale:selectedSale,onClose:()=>setSelectedSale(null)})]});}export default SalesPage;","map":{"version":3,"names":["React","useState","useEffect","useMemo","Search","ArrowLeft","X","ChevronLeft","ChevronRight","Trash2","FileSpreadsheet","useNavigate","axios","BoxLoader","BASE_URL","jsx","_jsx","jsxs","_jsxs","BEARER_TOKEN","localStorage","getItem","SalesDetailsModal","_ref","sale","onClose","saleDetails","label","value","sale_no","Date","sale_date","toLocaleString","customer_name","contact_number","employee_name","payment_method","parseFloat","total_amount","profit","className","children","onClick","size","map","item","index","sale_items","length","idx","medicine_name","rate","quantity","purchase_price","paymentBadgeColor","Cash","SalesPage","sales","setSales","searchTerm","setSearchTerm","sortOption","setSortOption","selectedSale","setSelectedSale","currentPage","setCurrentPage","loading","setLoading","itemsPerPage","navigate","api","create","baseURL","headers","fetchSales","response","get","data","status","formattedSales","sale_id","error","console","handleExcelReport","responseType","log","handleViewSale","saleId","handleDeleteSale","window","confirm","delete","filteredSales","filter","s","toLowerCase","includes","sort","a","b","totalPages","Math","ceil","paginatedSales","slice","type","placeholder","onChange","e","target","colSpan","p","max","disabled","min"],"sources":["C:/Users/hp/OneDrive/Desktop/frontend/src/components/Admin/reportFeature/sales.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { Search, ArrowLeft, X, ChevronLeft, ChevronRight, Trash2, FileSpreadsheet } from 'lucide-react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport BoxLoader from '../../looader/BoxLoader';\r\n\r\n// IMPORTANT: Replace with your actual API base URL and Bearer token\r\nimport BASE_URL from '../../../config'; // adjust path if file is deeper\r\n\r\nconst BEARER_TOKEN =localStorage.getItem('lalitkumar_choudhary'); \r\n\r\n// This is a simple mock loader component that fulfills the user's request\r\n\r\n// This is a simple modal for displaying sale details\r\nconst SalesDetailsModal = ({ sale, onClose }) => {\r\n    if (!sale) return null;\r\n\r\n    // Mapping API fields to display names\r\n    const saleDetails = [\r\n        { label: 'Sale No', value: sale.sale_no },\r\n        { label: 'Sale Date', value: new Date(sale.sale_date).toLocaleString() },\r\n        { label: 'Customer Name', value: sale.customer_name || 'N/A' },\r\n        { label: 'Contact Number', value: sale.contact_number || 'N/A' },\r\n        { label: 'Employee Name', value: sale.employee_name },\r\n        { label: 'Payment Method', value: sale.payment_method },\r\n        { label: 'Total Amount', value: `₹${parseFloat(sale.total_amount).toLocaleString('en-IN')}` },\r\n        { label: 'Profit', value: `₹${parseFloat(sale.profit).toLocaleString('en-IN')}` }\r\n    ];\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto font-sans\">\r\n                <div className=\"p-6 border-b sticky top-0 bg-white z-10 flex justify-between items-center\">\r\n                    <h2 className=\"text-xl font-semibold text-gray-800\">Sale Details</h2>\r\n                    <button onClick={onClose} className=\"text-gray-500 hover:text-gray-800\">\r\n                        <X size={24} />\r\n                    </button>\r\n                </div>\r\n                <div className=\"p-6 grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    {saleDetails.map((item, index) => (\r\n                        <div key={index}>\r\n                            <p className=\"text-sm text-gray-500\">{item.label}</p>\r\n                            <p className=\"font-semibold text-gray-800\">{item.value}</p>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                {sale.sale_items && sale.sale_items.length > 0 && (\r\n                    <div className=\"p-6 border-t\">\r\n                        <h3 className=\"text-lg font-semibold mb-4\">Sale Items</h3>\r\n                        <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full text-sm text-left text-gray-500 min-w-[500px]\">\r\n                                <thead className=\"text-xs text-gray-700 uppercase bg-gray-100\">\r\n                                    <tr>\r\n                                        <th className=\"px-4 py-2\">Medicine Name</th>\r\n                                        <th className=\"px-4 py-2 text-right\">Rate</th>\r\n                                        <th className=\"px-4 py-2 text-right\">Quantity</th>\r\n                                        <th className=\"px-4 py-2 text-right\">Purchase Price</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {sale.sale_items.map((item, idx) => (\r\n                                        <tr key={idx} className=\"bg-white border-b last:border-b-0\">\r\n                                            <td className=\"px-4 py-2 font-medium text-gray-900\">{item.medicine_name}</td>\r\n                                            <td className=\"px-4 py-2 text-right\">₹{item.rate}</td>\r\n                                            <td className=\"px-4 py-2 text-right\">{item.quantity}</td>\r\n                                            <td className=\"px-4 py-2 text-right\">₹{item.purchase_price}</td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                <div className=\"p-6 border-t text-right\">\r\n                    <button onClick={onClose} className=\"px-4 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200 transition-colors\">Close</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst paymentBadgeColor = {\r\n    Cash: 'bg-yellow-100 text-yellow-800',\r\n    'UPI': 'bg-blue-100 text-blue-700',\r\n    'Card': 'bg-green-100 text-green-700',\r\n    'Credit Card': 'bg-green-100 text-green-700'\r\n};\r\n\r\nfunction SalesPage() {\r\n    const [sales, setSales] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [sortOption, setSortOption] = useState('Recent Sales');\r\n    const [selectedSale, setSelectedSale] = useState(null);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [loading, setLoading] = useState(false);\r\n    const itemsPerPage = 5;\r\n    const navigate = useNavigate();\r\n\r\n    // Axios client instance with authorization header\r\n    const api = axios.create({\r\n        baseURL: BASE_URL,\r\n        headers: {\r\n            'Authorization': `Bearer ${BEARER_TOKEN}`\r\n        }\r\n    });\r\n\r\n    // Function to fetch all sales data\r\n    const fetchSales = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await api.get('/admin/sales');\r\n            if (response.data && response.data.status === 'success') {\r\n                // Assuming the API provides a sale_id or similar unique key\r\n                const formattedSales = response.data.data.map((sale, index) => ({\r\n                    ...sale,\r\n                    // The mock data doesn't have sale_id, so we'll use a sequential ID for a unique key\r\n                    sale_id: index + 1,\r\n                }));\r\n                setSales(formattedSales);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch sales data:', error);\r\n            // Handle error, e.g., show a toast message\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Use a useEffect hook to fetch data on component mount\r\n    useEffect(() => {\r\n        fetchSales();\r\n    }, []);\r\n\r\n    // Function to handle the Excel report download\r\n    const handleExcelReport = async () => {\r\n        setLoading(true);\r\n        try {\r\n            // The API response for this is likely a file, we won't process it here\r\n            await api.get('/admin/export/excel?table=sales', {\r\n                responseType: 'blob' // Important for handling binary data like files\r\n            });\r\n            // You can optionally create a URL and download the file here\r\n            // const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            // const link = document.createElement('a');\r\n            // link.href = url;\r\n            // link.setAttribute('download', 'sales_report.xlsx');\r\n            // document.body.appendChild(link);\r\n            // link.click();\r\n            console.log('Excel report requested successfully.');\r\n        } catch (error) {\r\n            console.error('Failed to export sales to Excel:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Function to fetch a single sale's details and open the modal\r\n    const handleViewSale = async (saleId) => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await api.get(`/admin/sales/${saleId}`);\r\n            if (response.data && response.data.status === 'success') {\r\n                setSelectedSale(response.data.data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch sale details:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Function to handle the deletion of a sale\r\n    const handleDeleteSale = async (saleId) => {\r\n        if (!window.confirm(\"Are you sure you want to delete this sale?\")) {\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        try {\r\n            await api.delete(`/admin/sales/${saleId}`);\r\n            console.log(`Sale with ID ${saleId} deleted successfully.`);\r\n            // After successful deletion, refresh the sales list\r\n            await fetchSales();\r\n        } catch (error) {\r\n            console.error('Failed to delete sale:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Memoized filtering and sorting logic\r\n    const filteredSales = useMemo(() => {\r\n        let data = [...sales];\r\n        if (searchTerm) {\r\n            data = data.filter(s =>\r\n                s.sale_no.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                s.employee_name.toLowerCase().includes(searchTerm.toLowerCase())\r\n            );\r\n        }\r\n        switch (sortOption) {\r\n            case 'Recent Sales': return data.sort((a, b) => new Date(b.sale_date) - new Date(a.sale_date));\r\n            case 'Old Sales': return data.sort((a, b) => new Date(a.sale_date) - new Date(b.sale_date));\r\n            case 'High Sales': return data.sort((a, b) => parseFloat(b.total_amount) - parseFloat(a.total_amount));\r\n            case 'Low Sales': return data.sort((a, b) => parseFloat(a.total_amount) - parseFloat(b.total_amount));\r\n            default: return data;\r\n        }\r\n    }, [sales, searchTerm, sortOption]);\r\n\r\n    const totalPages = Math.ceil(filteredSales.length / itemsPerPage);\r\n    const paginatedSales = filteredSales.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage);\r\n\r\n    return (\r\n        <div className=\"bg-gray-100 min-h-screen p-4 font-sans\">\r\n            {/* Conditional loader rendering */}\r\n            {loading && <BoxLoader />}\r\n\r\n            <div className=\"mb-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <button onClick={() => navigate('/home/reports')} className=\"p-2 rounded-full hover:bg-gray-200\">\r\n                        <ArrowLeft size={24} />\r\n                    </button>\r\n                    <h1 className=\"text-3xl font-bold text-gray-800\">Sales</h1>\r\n                </div>\r\n                <button\r\n                    onClick={handleExcelReport}\r\n                    className=\"flex items-center gap-2 px-4 py-2.5 bg-green-500 text-white rounded-lg shadow-md hover:bg-green-600 transition-colors\"\r\n                >\r\n                    <FileSpreadsheet size={20} />\r\n                    Export Excel Report\r\n                </button>\r\n            </div>\r\n            \r\n            <div className=\"flex flex-col md:flex-row gap-4 mb-6\">\r\n                <div className=\"relative flex-grow\">\r\n                    <Search size={20} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search by sale no or employee name...\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => { setSearchTerm(e.target.value); setCurrentPage(1); }}\r\n                        className=\"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                </div>\r\n                <select\r\n                    value={sortOption}\r\n                    onChange={(e) => setSortOption(e.target.value)}\r\n                    className=\"w-full md:w-auto bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-700\"\r\n                >\r\n                    <option>Recent Sales</option>\r\n                    <option>Old Sales</option>\r\n                    <option>High Sales</option>\r\n                    <option>Low Sales</option>\r\n                </select>\r\n            </div>\r\n            \r\n            <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left min-w-[700px]\">\r\n                        <thead className=\"bg-gray-200\">\r\n                            <tr>\r\n                                <th className=\"p-4 text-sm font-semibold text-gray-600\">S.No</th>\r\n                                <th className=\"p-4 text-sm font-semibold text-gray-600\">Sale No</th>\r\n                                <th className=\"p-4 text-sm font-semibold text-gray-600\">Employee Name</th>\r\n                                <th className=\"p-4 text-sm font-semibold text-gray-600\">Total Amount</th>\r\n                                <th className=\"p-4 text-sm font-semibold text-gray-600\">Payment Method</th>\r\n                                <th className=\"p-4 text-sm font-semibold text-gray-600\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {paginatedSales.length > 0 ? (\r\n                                paginatedSales.map((sale, index) => (\r\n                                    <tr key={sale.sale_no} className=\"border-b last:border-b-0 hover:bg-gray-50\">\r\n                                        <td className=\"p-4 text-gray-500\">{(currentPage - 1) * itemsPerPage + index + 1}</td>\r\n                                        <td className=\"p-4 font-medium text-gray-800\">{sale.sale_no}</td>\r\n                                        <td className=\"p-4 text-gray-600\">{sale.employee_name}</td>\r\n                                        <td className=\"p-4 font-semibold text-gray-800\">₹{parseFloat(sale.total_amount).toLocaleString('en-IN')}</td>\r\n                                        <td className=\"p-4\">\r\n                                            <span className={`inline-block px-3 py-1 rounded-full text-sm font-medium ${paymentBadgeColor[sale.payment_method]}`}>{sale.payment_method}</span>\r\n                                        </td>\r\n                                        <td className=\"p-4 flex items-center gap-2\">\r\n                                            <button onClick={() => handleViewSale(sale.sale_id)} className=\"bg-blue-500 text-white px-3 py-1.5 text-sm rounded-lg hover:bg-blue-600 transition-colors\">View</button>\r\n                                            <button onClick={() => handleDeleteSale(sale.sale_id)} className=\"bg-red-500 text-white p-1.5 rounded-lg hover:bg-red-600 transition-colors\">\r\n                                                <Trash2 size={16} />\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            ) : (\r\n                                <tr>\r\n                                    <td colSpan=\"6\" className=\"p-4 text-center text-gray-500\">No sales found.</td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                \r\n                <div className=\"flex justify-between items-center p-4 border-t\">\r\n                    <p className=\"text-sm text-gray-600\">Page {currentPage} of {totalPages}</p>\r\n                    <div className=\"flex gap-2\">\r\n                        <button onClick={() => setCurrentPage(p => Math.max(1, p - 1))} disabled={currentPage === 1} className=\"flex items-center gap-1 px-3 py-2 border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed text-gray-600 hover:bg-gray-100\">\r\n                            <ChevronLeft size={16} /> Prev\r\n                        </button>\r\n                        <button onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))} disabled={currentPage === totalPages} className=\"flex items-center gap-1 px-3 py-2 border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed text-gray-600 hover:bg-gray-100\">\r\n                            Next <ChevronRight size={16} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <SalesDetailsModal sale={selectedSale} onClose={() => setSelectedSale(null)} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SalesPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,OAAO,KAAQ,OAAO,CAC3D,OAASC,MAAM,CAAEC,SAAS,CAAEC,CAAC,CAAEC,WAAW,CAAEC,YAAY,CAAEC,MAAM,CAAEC,eAAe,KAAQ,cAAc,CACvG,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAE/C;AACA,MAAO,CAAAC,QAAQ,KAAM,iBAAiB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,YAAY,CAAEC,YAAY,CAACC,OAAO,CAAC,sBAAsB,CAAC,CAEhE;AAEA;AACA,KAAM,CAAAC,iBAAiB,CAAGC,IAAA,EAAuB,IAAtB,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CACxC,GAAI,CAACC,IAAI,CAAE,MAAO,KAAI,CAEtB;AACA,KAAM,CAAAE,WAAW,CAAG,CAChB,CAAEC,KAAK,CAAE,SAAS,CAAEC,KAAK,CAAEJ,IAAI,CAACK,OAAQ,CAAC,CACzC,CAAEF,KAAK,CAAE,WAAW,CAAEC,KAAK,CAAE,GAAI,CAAAE,IAAI,CAACN,IAAI,CAACO,SAAS,CAAC,CAACC,cAAc,CAAC,CAAE,CAAC,CACxE,CAAEL,KAAK,CAAE,eAAe,CAAEC,KAAK,CAAEJ,IAAI,CAACS,aAAa,EAAI,KAAM,CAAC,CAC9D,CAAEN,KAAK,CAAE,gBAAgB,CAAEC,KAAK,CAAEJ,IAAI,CAACU,cAAc,EAAI,KAAM,CAAC,CAChE,CAAEP,KAAK,CAAE,eAAe,CAAEC,KAAK,CAAEJ,IAAI,CAACW,aAAc,CAAC,CACrD,CAAER,KAAK,CAAE,gBAAgB,CAAEC,KAAK,CAAEJ,IAAI,CAACY,cAAe,CAAC,CACvD,CAAET,KAAK,CAAE,cAAc,CAAEC,KAAK,CAAE,IAAIS,UAAU,CAACb,IAAI,CAACc,YAAY,CAAC,CAACN,cAAc,CAAC,OAAO,CAAC,EAAG,CAAC,CAC7F,CAAEL,KAAK,CAAE,QAAQ,CAAEC,KAAK,CAAE,IAAIS,UAAU,CAACb,IAAI,CAACe,MAAM,CAAC,CAACP,cAAc,CAAC,OAAO,CAAC,EAAG,CAAC,CACpF,CAED,mBACIhB,IAAA,QAAKwB,SAAS,CAAC,gFAAgF,CAAAC,QAAA,cAC3FvB,KAAA,QAAKsB,SAAS,CAAC,uFAAuF,CAAAC,QAAA,eAClGvB,KAAA,QAAKsB,SAAS,CAAC,2EAA2E,CAAAC,QAAA,eACtFzB,IAAA,OAAIwB,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cACrEzB,IAAA,WAAQ0B,OAAO,CAAEjB,OAAQ,CAACe,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cACnEzB,IAAA,CAACV,CAAC,EAACqC,IAAI,CAAE,EAAG,CAAE,CAAC,CACX,CAAC,EACR,CAAC,cACN3B,IAAA,QAAKwB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CACrDf,WAAW,CAACkB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACzB5B,KAAA,QAAAuB,QAAA,eACIzB,IAAA,MAAGwB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEI,IAAI,CAAClB,KAAK,CAAI,CAAC,cACrDX,IAAA,MAAGwB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEI,IAAI,CAACjB,KAAK,CAAI,CAAC,GAFrDkB,KAGL,CACR,CAAC,CACD,CAAC,CACLtB,IAAI,CAACuB,UAAU,EAAIvB,IAAI,CAACuB,UAAU,CAACC,MAAM,CAAG,CAAC,eAC1C9B,KAAA,QAAKsB,SAAS,CAAC,cAAc,CAAAC,QAAA,eACzBzB,IAAA,OAAIwB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,cAC1DzB,IAAA,QAAKwB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC5BvB,KAAA,UAAOsB,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACnEzB,IAAA,UAAOwB,SAAS,CAAC,6CAA6C,CAAAC,QAAA,cAC1DvB,KAAA,OAAAuB,QAAA,eACIzB,IAAA,OAAIwB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cAC5CzB,IAAA,OAAIwB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cAC9CzB,IAAA,OAAIwB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cAClDzB,IAAA,OAAIwB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,EACxD,CAAC,CACF,CAAC,cACRzB,IAAA,UAAAyB,QAAA,CACKjB,IAAI,CAACuB,UAAU,CAACH,GAAG,CAAC,CAACC,IAAI,CAAEI,GAAG,gBAC3B/B,KAAA,OAAcsB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eACvDzB,IAAA,OAAIwB,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAEI,IAAI,CAACK,aAAa,CAAK,CAAC,cAC7EhC,KAAA,OAAIsB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EAAC,QAAC,CAACI,IAAI,CAACM,IAAI,EAAK,CAAC,cACtDnC,IAAA,OAAIwB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAEI,IAAI,CAACO,QAAQ,CAAK,CAAC,cACzDlC,KAAA,OAAIsB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EAAC,QAAC,CAACI,IAAI,CAACQ,cAAc,EAAK,CAAC,GAJ3DJ,GAKL,CACP,CAAC,CACC,CAAC,EACL,CAAC,CACP,CAAC,EACL,CACR,cACDjC,IAAA,QAAKwB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,cACpCzB,IAAA,WAAQ0B,OAAO,CAAEjB,OAAQ,CAACe,SAAS,CAAC,oFAAoF,CAAAC,QAAA,CAAC,OAAK,CAAQ,CAAC,CACtI,CAAC,EACL,CAAC,CACL,CAAC,CAEd,CAAC,CAED,KAAM,CAAAa,iBAAiB,CAAG,CACtBC,IAAI,CAAE,+BAA+B,CACrC,KAAK,CAAE,2BAA2B,CAClC,MAAM,CAAE,6BAA6B,CACrC,aAAa,CAAE,6BACnB,CAAC,CAED,QAAS,CAAAC,SAASA,CAAA,CAAG,CACjB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGzD,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAC0D,UAAU,CAAEC,aAAa,CAAC,CAAG3D,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC4D,UAAU,CAAEC,aAAa,CAAC,CAAG7D,QAAQ,CAAC,cAAc,CAAC,CAC5D,KAAM,CAAC8D,YAAY,CAAEC,eAAe,CAAC,CAAG/D,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACgE,WAAW,CAAEC,cAAc,CAAC,CAAGjE,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACkE,OAAO,CAAEC,UAAU,CAAC,CAAGnE,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAAoE,YAAY,CAAG,CAAC,CACtB,KAAM,CAAAC,QAAQ,CAAG3D,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAA4D,GAAG,CAAG3D,KAAK,CAAC4D,MAAM,CAAC,CACrBC,OAAO,CAAE3D,QAAQ,CACjB4D,OAAO,CAAE,CACL,eAAe,CAAE,UAAUvD,YAAY,EAC3C,CACJ,CAAC,CAAC,CAEF;AACA,KAAM,CAAAwD,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3BP,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACA,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACM,GAAG,CAAC,cAAc,CAAC,CAC9C,GAAID,QAAQ,CAACE,IAAI,EAAIF,QAAQ,CAACE,IAAI,CAACC,MAAM,GAAK,SAAS,CAAE,CACrD;AACA,KAAM,CAAAC,cAAc,CAAGJ,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAClC,GAAG,CAAC,CAACpB,IAAI,CAAEsB,KAAK,IAAM,CAC5D,GAAGtB,IAAI,CACP;AACAyD,OAAO,CAAEnC,KAAK,CAAG,CACrB,CAAC,CAAC,CAAC,CACHY,QAAQ,CAACsB,cAAc,CAAC,CAC5B,CACJ,CAAE,MAAOE,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnD;AACJ,CAAC,OAAS,CACNd,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAED;AACAlE,SAAS,CAAC,IAAM,CACZyE,UAAU,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAS,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CAClChB,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACA;AACA,KAAM,CAAAG,GAAG,CAACM,GAAG,CAAC,iCAAiC,CAAE,CAC7CQ,YAAY,CAAE,MAAO;AACzB,CAAC,CAAC,CACF;AACA;AACA;AACA;AACA;AACA;AACA;AACAF,OAAO,CAACG,GAAG,CAAC,sCAAsC,CAAC,CACvD,CAAE,MAAOJ,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CAC5D,CAAC,OAAS,CACNd,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAED;AACA,KAAM,CAAAmB,cAAc,CAAG,KAAO,CAAAC,MAAM,EAAK,CACrCpB,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACA,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACM,GAAG,CAAC,gBAAgBW,MAAM,EAAE,CAAC,CACxD,GAAIZ,QAAQ,CAACE,IAAI,EAAIF,QAAQ,CAACE,IAAI,CAACC,MAAM,GAAK,SAAS,CAAE,CACrDf,eAAe,CAACY,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC,CACvC,CACJ,CAAE,MAAOI,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACzD,CAAC,OAAS,CACNd,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAED;AACA,KAAM,CAAAqB,gBAAgB,CAAG,KAAO,CAAAD,MAAM,EAAK,CACvC,GAAI,CAACE,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,CAAE,CAC/D,OACJ,CACAvB,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACA,KAAM,CAAAG,GAAG,CAACqB,MAAM,CAAC,gBAAgBJ,MAAM,EAAE,CAAC,CAC1CL,OAAO,CAACG,GAAG,CAAC,gBAAgBE,MAAM,wBAAwB,CAAC,CAC3D;AACA,KAAM,CAAAb,UAAU,CAAC,CAAC,CACtB,CAAE,MAAOO,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAClD,CAAC,OAAS,CACNd,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAED;AACA,KAAM,CAAAyB,aAAa,CAAG1F,OAAO,CAAC,IAAM,CAChC,GAAI,CAAA2E,IAAI,CAAG,CAAC,GAAGrB,KAAK,CAAC,CACrB,GAAIE,UAAU,CAAE,CACZmB,IAAI,CAAGA,IAAI,CAACgB,MAAM,CAACC,CAAC,EAChBA,CAAC,CAAClE,OAAO,CAACmE,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACtC,UAAU,CAACqC,WAAW,CAAC,CAAC,CAAC,EAC1DD,CAAC,CAAC5D,aAAa,CAAC6D,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACtC,UAAU,CAACqC,WAAW,CAAC,CAAC,CACnE,CAAC,CACL,CACA,OAAQnC,UAAU,EACd,IAAK,cAAc,CAAE,MAAO,CAAAiB,IAAI,CAACoB,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,GAAI,CAAAtE,IAAI,CAACsE,CAAC,CAACrE,SAAS,CAAC,CAAG,GAAI,CAAAD,IAAI,CAACqE,CAAC,CAACpE,SAAS,CAAC,CAAC,CAC9F,IAAK,WAAW,CAAE,MAAO,CAAA+C,IAAI,CAACoB,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,GAAI,CAAAtE,IAAI,CAACqE,CAAC,CAACpE,SAAS,CAAC,CAAG,GAAI,CAAAD,IAAI,CAACsE,CAAC,CAACrE,SAAS,CAAC,CAAC,CAC3F,IAAK,YAAY,CAAE,MAAO,CAAA+C,IAAI,CAACoB,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK/D,UAAU,CAAC+D,CAAC,CAAC9D,YAAY,CAAC,CAAGD,UAAU,CAAC8D,CAAC,CAAC7D,YAAY,CAAC,CAAC,CACtG,IAAK,WAAW,CAAE,MAAO,CAAAwC,IAAI,CAACoB,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK/D,UAAU,CAAC8D,CAAC,CAAC7D,YAAY,CAAC,CAAGD,UAAU,CAAC+D,CAAC,CAAC9D,YAAY,CAAC,CAAC,CACrG,QAAS,MAAO,CAAAwC,IAAI,CACxB,CACJ,CAAC,CAAE,CAACrB,KAAK,CAAEE,UAAU,CAAEE,UAAU,CAAC,CAAC,CAEnC,KAAM,CAAAwC,UAAU,CAAGC,IAAI,CAACC,IAAI,CAACV,aAAa,CAAC7C,MAAM,CAAGqB,YAAY,CAAC,CACjE,KAAM,CAAAmC,cAAc,CAAGX,aAAa,CAACY,KAAK,CAAC,CAACxC,WAAW,CAAG,CAAC,EAAII,YAAY,CAAEJ,WAAW,CAAGI,YAAY,CAAC,CAExG,mBACInD,KAAA,QAAKsB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,EAElD0B,OAAO,eAAInD,IAAA,CAACH,SAAS,GAAE,CAAC,cAEzBK,KAAA,QAAKsB,SAAS,CAAC,kFAAkF,CAAAC,QAAA,eAC7FvB,KAAA,QAAKsB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACpCzB,IAAA,WAAQ0B,OAAO,CAAEA,CAAA,GAAM4B,QAAQ,CAAC,eAAe,CAAE,CAAC9B,SAAS,CAAC,oCAAoC,CAAAC,QAAA,cAC5FzB,IAAA,CAACX,SAAS,EAACsC,IAAI,CAAE,EAAG,CAAE,CAAC,CACnB,CAAC,cACT3B,IAAA,OAAIwB,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,EAC1D,CAAC,cACNvB,KAAA,WACIwB,OAAO,CAAE0C,iBAAkB,CAC3B5C,SAAS,CAAC,uHAAuH,CAAAC,QAAA,eAEjIzB,IAAA,CAACN,eAAe,EAACiC,IAAI,CAAE,EAAG,CAAE,CAAC,sBAEjC,EAAQ,CAAC,EACR,CAAC,cAENzB,KAAA,QAAKsB,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eACjDvB,KAAA,QAAKsB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAC/BzB,IAAA,CAACZ,MAAM,EAACuC,IAAI,CAAE,EAAG,CAACH,SAAS,CAAC,wDAAwD,CAAE,CAAC,cACvFxB,IAAA,UACI0F,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,uCAAuC,CACnD/E,KAAK,CAAE+B,UAAW,CAClBiD,QAAQ,CAAGC,CAAC,EAAK,CAAEjD,aAAa,CAACiD,CAAC,CAACC,MAAM,CAAClF,KAAK,CAAC,CAAEsC,cAAc,CAAC,CAAC,CAAC,CAAE,CAAE,CACvE1B,SAAS,CAAC,gHAAgH,CAC7H,CAAC,EACD,CAAC,cACNtB,KAAA,WACIU,KAAK,CAAEiC,UAAW,CAClB+C,QAAQ,CAAGC,CAAC,EAAK/C,aAAa,CAAC+C,CAAC,CAACC,MAAM,CAAClF,KAAK,CAAE,CAC/CY,SAAS,CAAC,uFAAuF,CAAAC,QAAA,eAEjGzB,IAAA,WAAAyB,QAAA,CAAQ,cAAY,CAAQ,CAAC,cAC7BzB,IAAA,WAAAyB,QAAA,CAAQ,WAAS,CAAQ,CAAC,cAC1BzB,IAAA,WAAAyB,QAAA,CAAQ,YAAU,CAAQ,CAAC,cAC3BzB,IAAA,WAAAyB,QAAA,CAAQ,WAAS,CAAQ,CAAC,EACtB,CAAC,EACR,CAAC,cAENvB,KAAA,QAAKsB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAC1DzB,IAAA,QAAKwB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC5BvB,KAAA,UAAOsB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7CzB,IAAA,UAAOwB,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BvB,KAAA,OAAAuB,QAAA,eACIzB,IAAA,OAAIwB,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cACjEzB,IAAA,OAAIwB,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cACpEzB,IAAA,OAAIwB,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cAC1EzB,IAAA,OAAIwB,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cACzEzB,IAAA,OAAIwB,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC3EzB,IAAA,OAAIwB,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,EACnE,CAAC,CACF,CAAC,cACRzB,IAAA,UAAAyB,QAAA,CACK+D,cAAc,CAACxD,MAAM,CAAG,CAAC,CACtBwD,cAAc,CAAC5D,GAAG,CAAC,CAACpB,IAAI,CAAEsB,KAAK,gBAC3B5B,KAAA,OAAuBsB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxEzB,IAAA,OAAIwB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAE,CAACwB,WAAW,CAAG,CAAC,EAAII,YAAY,CAAGvB,KAAK,CAAG,CAAC,CAAK,CAAC,cACrF9B,IAAA,OAAIwB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAEjB,IAAI,CAACK,OAAO,CAAK,CAAC,cACjEb,IAAA,OAAIwB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEjB,IAAI,CAACW,aAAa,CAAK,CAAC,cAC3DjB,KAAA,OAAIsB,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAC,QAAC,CAACJ,UAAU,CAACb,IAAI,CAACc,YAAY,CAAC,CAACN,cAAc,CAAC,OAAO,CAAC,EAAK,CAAC,cAC7GhB,IAAA,OAAIwB,SAAS,CAAC,KAAK,CAAAC,QAAA,cACfzB,IAAA,SAAMwB,SAAS,CAAE,2DAA2Dc,iBAAiB,CAAC9B,IAAI,CAACY,cAAc,CAAC,EAAG,CAAAK,QAAA,CAAEjB,IAAI,CAACY,cAAc,CAAO,CAAC,CAClJ,CAAC,cACLlB,KAAA,OAAIsB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eACvCzB,IAAA,WAAQ0B,OAAO,CAAEA,CAAA,GAAM6C,cAAc,CAAC/D,IAAI,CAACyD,OAAO,CAAE,CAACzC,SAAS,CAAC,2FAA2F,CAAAC,QAAA,CAAC,MAAI,CAAQ,CAAC,cACxKzB,IAAA,WAAQ0B,OAAO,CAAEA,CAAA,GAAM+C,gBAAgB,CAACjE,IAAI,CAACyD,OAAO,CAAE,CAACzC,SAAS,CAAC,2EAA2E,CAAAC,QAAA,cACxIzB,IAAA,CAACP,MAAM,EAACkC,IAAI,CAAE,EAAG,CAAE,CAAC,CAChB,CAAC,EACT,CAAC,GAbAnB,IAAI,CAACK,OAcV,CACP,CAAC,cAEFb,IAAA,OAAAyB,QAAA,cACIzB,IAAA,OAAI+F,OAAO,CAAC,GAAG,CAACvE,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,CAC9E,CACP,CACE,CAAC,EACL,CAAC,CACP,CAAC,cAENvB,KAAA,QAAKsB,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAC3DvB,KAAA,MAAGsB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,OAAK,CAACwB,WAAW,CAAC,MAAI,CAACoC,UAAU,EAAI,CAAC,cAC3EnF,KAAA,QAAKsB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvBvB,KAAA,WAAQwB,OAAO,CAAEA,CAAA,GAAMwB,cAAc,CAAC8C,CAAC,EAAIV,IAAI,CAACW,GAAG,CAAC,CAAC,CAAED,CAAC,CAAG,CAAC,CAAC,CAAE,CAACE,QAAQ,CAAEjD,WAAW,GAAK,CAAE,CAACzB,SAAS,CAAC,qIAAqI,CAAAC,QAAA,eACxOzB,IAAA,CAACT,WAAW,EAACoC,IAAI,CAAE,EAAG,CAAE,CAAC,QAC7B,EAAQ,CAAC,cACTzB,KAAA,WAAQwB,OAAO,CAAEA,CAAA,GAAMwB,cAAc,CAAC8C,CAAC,EAAIV,IAAI,CAACa,GAAG,CAACd,UAAU,CAAEW,CAAC,CAAG,CAAC,CAAC,CAAE,CAACE,QAAQ,CAAEjD,WAAW,GAAKoC,UAAW,CAAC7D,SAAS,CAAC,qIAAqI,CAAAC,QAAA,EAAC,OACtP,cAAAzB,IAAA,CAACR,YAAY,EAACmC,IAAI,CAAE,EAAG,CAAE,CAAC,EAC3B,CAAC,EACR,CAAC,EACL,CAAC,EACL,CAAC,cAEN3B,IAAA,CAACM,iBAAiB,EAACE,IAAI,CAAEuC,YAAa,CAACtC,OAAO,CAAEA,CAAA,GAAMuC,eAAe,CAAC,IAAI,CAAE,CAAE,CAAC,EAC9E,CAAC,CAEd,CAEA,cAAe,CAAAR,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}