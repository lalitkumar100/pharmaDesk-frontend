{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\frontend\\\\src\\\\components\\\\AddMedicineModal.js\",\n  _s = $RefreshSig$();\n// AddMedicineModal.js\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddMedicineModal = ({\n  onClose,\n  onAddMedicine,\n  BASE_URL\n}) => {\n  _s();\n  const [medicineName, setMedicineName] = useState('');\n  const [brand, setBrand] = useState('');\n  const [mfgDate, setMfgDate] = useState('');\n  const [expiryDate, setExpiryDate] = useState('');\n  const [packedType, setPackedType] = useState('');\n  const [quantity, setQuantity] = useState('');\n  const [purchasePrice, setPurchasePrice] = useState('');\n  const [mrp, setMrp] = useState('');\n  const [batchNo, setBatchNo] = useState(''); // Added batchNo field\n\n  const [suggestions, setSuggestions] = useState([]);\n  const [highlightedIndex, setHighlightedIndex] = useState(-1);\n  const suggestionListRef = useRef(null);\n  const medicineNameInputRef = useRef(null);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(null);\n  const [messageType, setMessageType] = useState(''); // 'success' or 'error'\n\n  const debouncedSearch = useRef(null);\n\n  // Debounce function for API calls\n  useEffect(() => {\n    return () => {\n      if (debouncedSearch.current) {\n        clearTimeout(debouncedSearch.current);\n      }\n    };\n  }, []);\n  const fetchSuggestions = useCallback(async query => {\n    if (query.length < 2) {\n      // Only fetch if query is at least 2 characters\n      setSuggestions([]);\n      return;\n    }\n    if (debouncedSearch.current) {\n      clearTimeout(debouncedSearch.current);\n    }\n    debouncedSearch.current = setTimeout(async () => {\n      try {\n        setLoading(true);\n        const response = await fetch(`${BASE_URL}/admin/medicines/recommendation?query=${query}`);\n        const data = await response.json();\n        if (response.ok && data.status === 'success') {\n          setSuggestions(data.recommendations || []);\n          setHighlightedIndex(-1); // Reset highlight when new suggestions load\n        } else {\n          setSuggestions([]);\n        }\n      } catch (error) {\n        console.error('Error fetching suggestions:', error);\n        setSuggestions([]);\n      } finally {\n        setLoading(false);\n      }\n    }, 300); // Debounce delay\n  }, [BASE_URL]);\n  const fetchMedicineDetails = useCallback(async medicineId => {\n    setLoading(true);\n    setMessage(null);\n    try {\n      const response = await fetch(`${BASE_URL}/admin/medicine/${medicineId}`);\n      const data = await response.json();\n      if (response.ok && data.status === 'success' && data.medicine && data.medicine.length > 0) {\n        const med = data.medicine[0];\n        setMedicineName(med.medicine_name || '');\n        setBrand(med.brand_name || '');\n        setMfgDate(med.mfg_date ? new Date(med.mfg_date).toISOString().split('T')[0] : '');\n        setExpiryDate(med.expiry_date ? new Date(med.expiry_date).toISOString().split('T')[0] : '');\n        setPackedType(med.packed_type || '');\n        setQuantity(med.stock_quantity || '');\n        setPurchasePrice(med.purchase_price || '');\n        setMrp(med.mrp || '');\n        setBatchNo(med.batch_no || '');\n        setSuggestions([]); // Clear suggestions after selection\n      } else {\n        setMessage('Failed to fetch medicine details.');\n        setMessageType('error');\n      }\n    } catch (error) {\n      console.error('Error fetching medicine details:', error);\n      setMessage('An error occurred while fetching medicine details.');\n      setMessageType('error');\n    } finally {\n      setLoading(false);\n      setTimeout(() => setMessage(null), 5000);\n    }\n  }, [BASE_URL]);\n  const handleMedicineNameChange = e => {\n    const value = e.target.value;\n    setMedicineName(value);\n    fetchSuggestions(value);\n  };\n  const handleKeyDown = e => {\n    if (suggestions.length > 0) {\n      if (e.key === 'ArrowDown') {\n        e.preventDefault();\n        setHighlightedIndex(prevIndex => prevIndex < suggestions.length - 1 ? prevIndex + 1 : prevIndex);\n      } else if (e.key === 'ArrowUp') {\n        e.preventDefault();\n        setHighlightedIndex(prevIndex => prevIndex > 0 ? prevIndex - 1 : 0);\n      } else if (e.key === 'Enter') {\n        e.preventDefault();\n        if (highlightedIndex !== -1) {\n          fetchMedicineDetails(suggestions[highlightedIndex].medicine_id);\n        }\n      }\n    }\n  };\n  useEffect(() => {\n    if (highlightedIndex !== -1 && suggestionListRef.current) {\n      const highlightedItem = suggestionListRef.current.children[highlightedIndex];\n      highlightedItem === null || highlightedItem === void 0 ? void 0 : highlightedItem.scrollIntoView({\n        block: 'nearest'\n      });\n    }\n  }, [highlightedIndex]);\n  const handleAddMedicine = () => {\n    if (!medicineName || !brand || !mfgDate || !expiryDate || !packedType || !quantity || !purchasePrice || !mrp || !batchNo) {\n      setMessage('Please fill in all fields.');\n      setMessageType('error');\n      return;\n    }\n    const newMedicine = {\n      packed_type: packedType,\n      medicine_name: medicineName,\n      brand_name: brand,\n      batch_no: batchNo,\n      purchase_price: parseFloat(purchasePrice).toFixed(2),\n      // Format to 2 decimal places\n      mrp: parseFloat(mrp).toFixed(2),\n      // Format to 2 decimal places\n      stock_quantity: parseInt(quantity, 10),\n      mfg_date: mfgDate,\n      // YYYY-MM-DD\n      expiry_date: expiryDate // YYYY-MM-DD\n    };\n    onAddMedicine(newMedicine);\n    onClose(); // Close modal after adding\n    setMessage(null); // Clear any previous messages\n  };\n  const handleRefresh = () => {\n    setMedicineName('');\n    setBrand('');\n    setMfgDate('');\n    setExpiryDate('');\n    setPackedType('');\n    setQuantity('');\n    setPurchasePrice('');\n    setMrp('');\n    setBatchNo('');\n    setSuggestions([]);\n    setHighlightedIndex(-1);\n    setMessage(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center border-b pb-3 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold\",\n          children: \"Add New Medicine\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700 text-2xl font-bold\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-4\",\n        children: \"Enter details for the medicine to add to stock.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-2 relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"medicineName\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Medicine Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"medicineName\",\n            ref: medicineNameInputRef,\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",\n            value: medicineName,\n            onChange: handleMedicineNameChange,\n            onKeyDown: handleKeyDown,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), loading && medicineName.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-0 right-0 mt-8 mr-2 z-10 flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loader ease-linear rounded-full border-2 border-t-2 border-gray-200 h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this), suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n            ref: suggestionListRef,\n            className: \"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto mt-1\",\n            children: suggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: `p-2 cursor-pointer hover:bg-blue-100 ${index === highlightedIndex ? 'bg-blue-100' : ''}`,\n              onClick: () => fetchMedicineDetails(suggestion.medicine_id),\n              children: suggestion.medicine_name\n            }, suggestion.medicine_id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"brand\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Brand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"brand\",\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\",\n            value: brand,\n            onChange: e => setBrand(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"batchNo\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Batch No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"batchNo\",\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\",\n            value: batchNo,\n            onChange: e => setBatchNo(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"mfgDate\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"MFG Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            id: \"mfgDate\",\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\",\n            value: mfgDate,\n            onChange: e => setMfgDate(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"expiryDate\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Expiry Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            id: \"expiryDate\",\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\",\n            value: expiryDate,\n            onChange: e => setExpiryDate(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"packedType\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Packed Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"packedType\",\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\",\n            value: packedType,\n            onChange: e => setPackedType(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"quantity\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"quantity\",\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\",\n            value: quantity,\n            onChange: e => setQuantity(e.target.value),\n            required: true,\n            min: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"purchasePrice\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Purchase Price (\\u20B9)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"purchasePrice\",\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\",\n            value: purchasePrice,\n            onChange: e => setPurchasePrice(e.target.value),\n            required: true,\n            step: \"0.01\",\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"mrp\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"MRP (\\u20B9)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"mrp\",\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\",\n            value: mrp,\n            onChange: e => setMrp(e.target.value),\n            required: true,\n            step: \"0.01\",\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mt-4 p-3 rounded-md ${messageType === 'success' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`,\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end mt-6 space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRefresh,\n          className: \"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out\",\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddMedicine,\n          className: \"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg shadow-md transition duration-300 ease-in-out\",\n          disabled: loading,\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n};\n_s(AddMedicineModal, \"RV3PlahCNhrjarmCw7wFu7mSzMw=\");\n_c = AddMedicineModal;\nexport default AddMedicineModal;\nvar _c;\n$RefreshReg$(_c, \"AddMedicineModal\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","jsxDEV","_jsxDEV","AddMedicineModal","onClose","onAddMedicine","BASE_URL","_s","medicineName","setMedicineName","brand","setBrand","mfgDate","setMfgDate","expiryDate","setExpiryDate","packedType","setPackedType","quantity","setQuantity","purchasePrice","setPurchasePrice","mrp","setMrp","batchNo","setBatchNo","suggestions","setSuggestions","highlightedIndex","setHighlightedIndex","suggestionListRef","medicineNameInputRef","loading","setLoading","message","setMessage","messageType","setMessageType","debouncedSearch","current","clearTimeout","fetchSuggestions","query","length","setTimeout","response","fetch","data","json","ok","status","recommendations","error","console","fetchMedicineDetails","medicineId","medicine","med","medicine_name","brand_name","mfg_date","Date","toISOString","split","expiry_date","packed_type","stock_quantity","purchase_price","batch_no","handleMedicineNameChange","e","value","target","handleKeyDown","key","preventDefault","prevIndex","medicine_id","highlightedItem","children","scrollIntoView","block","handleAddMedicine","newMedicine","parseFloat","toFixed","parseInt","handleRefresh","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","htmlFor","type","id","ref","onChange","onKeyDown","required","map","suggestion","index","min","step","disabled","_c","$RefreshReg$"],"sources":["C:/Users/hp/OneDrive/Desktop/frontend/src/components/AddMedicineModal.js"],"sourcesContent":["// AddMedicineModal.js\r\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\r\n\r\nconst AddMedicineModal = ({ onClose, onAddMedicine, BASE_URL }) => {\r\n  const [medicineName, setMedicineName] = useState('');\r\n  const [brand, setBrand] = useState('');\r\n  const [mfgDate, setMfgDate] = useState('');\r\n  const [expiryDate, setExpiryDate] = useState('');\r\n  const [packedType, setPackedType] = useState('');\r\n  const [quantity, setQuantity] = useState('');\r\n  const [purchasePrice, setPurchasePrice] = useState('');\r\n  const [mrp, setMrp] = useState('');\r\n  const [batchNo, setBatchNo] = useState(''); // Added batchNo field\r\n\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [highlightedIndex, setHighlightedIndex] = useState(-1);\r\n  const suggestionListRef = useRef(null);\r\n  const medicineNameInputRef = useRef(null);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(null);\r\n  const [messageType, setMessageType] = useState(''); // 'success' or 'error'\r\n\r\n  const debouncedSearch = useRef(null);\r\n\r\n  // Debounce function for API calls\r\n  useEffect(() => {\r\n    return () => {\r\n      if (debouncedSearch.current) {\r\n        clearTimeout(debouncedSearch.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const fetchSuggestions = useCallback(async (query) => {\r\n    if (query.length < 2) { // Only fetch if query is at least 2 characters\r\n      setSuggestions([]);\r\n      return;\r\n    }\r\n\r\n    if (debouncedSearch.current) {\r\n      clearTimeout(debouncedSearch.current);\r\n    }\r\n\r\n    debouncedSearch.current = setTimeout(async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await fetch(`${BASE_URL}/admin/medicines/recommendation?query=${query}`);\r\n        const data = await response.json();\r\n        if (response.ok && data.status === 'success') {\r\n          setSuggestions(data.recommendations || []);\r\n          setHighlightedIndex(-1); // Reset highlight when new suggestions load\r\n        } else {\r\n          setSuggestions([]);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching suggestions:', error);\r\n        setSuggestions([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }, 300); // Debounce delay\r\n  }, [BASE_URL]);\r\n\r\n  const fetchMedicineDetails = useCallback(async (medicineId) => {\r\n    setLoading(true);\r\n    setMessage(null);\r\n    try {\r\n      const response = await fetch(`${BASE_URL}/admin/medicine/${medicineId}`);\r\n      const data = await response.json();\r\n      if (response.ok && data.status === 'success' && data.medicine && data.medicine.length > 0) {\r\n        const med = data.medicine[0];\r\n        setMedicineName(med.medicine_name || '');\r\n        setBrand(med.brand_name || '');\r\n        setMfgDate(med.mfg_date ? new Date(med.mfg_date).toISOString().split('T')[0] : '');\r\n        setExpiryDate(med.expiry_date ? new Date(med.expiry_date).toISOString().split('T')[0] : '');\r\n        setPackedType(med.packed_type || '');\r\n        setQuantity(med.stock_quantity || '');\r\n        setPurchasePrice(med.purchase_price || '');\r\n        setMrp(med.mrp || '');\r\n        setBatchNo(med.batch_no || '');\r\n        setSuggestions([]); // Clear suggestions after selection\r\n      } else {\r\n        setMessage('Failed to fetch medicine details.');\r\n        setMessageType('error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching medicine details:', error);\r\n      setMessage('An error occurred while fetching medicine details.');\r\n      setMessageType('error');\r\n    } finally {\r\n      setLoading(false);\r\n      setTimeout(() => setMessage(null), 5000);\r\n    }\r\n  }, [BASE_URL]);\r\n\r\n  const handleMedicineNameChange = (e) => {\r\n    const value = e.target.value;\r\n    setMedicineName(value);\r\n    fetchSuggestions(value);\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (suggestions.length > 0) {\r\n      if (e.key === 'ArrowDown') {\r\n        e.preventDefault();\r\n        setHighlightedIndex((prevIndex) =>\r\n          prevIndex < suggestions.length - 1 ? prevIndex + 1 : prevIndex\r\n        );\r\n      } else if (e.key === 'ArrowUp') {\r\n        e.preventDefault();\r\n        setHighlightedIndex((prevIndex) =>\r\n          prevIndex > 0 ? prevIndex - 1 : 0\r\n        );\r\n      } else if (e.key === 'Enter') {\r\n        e.preventDefault();\r\n        if (highlightedIndex !== -1) {\r\n          fetchMedicineDetails(suggestions[highlightedIndex].medicine_id);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (highlightedIndex !== -1 && suggestionListRef.current) {\r\n      const highlightedItem = suggestionListRef.current.children[highlightedIndex];\r\n      highlightedItem?.scrollIntoView({ block: 'nearest' });\r\n    }\r\n  }, [highlightedIndex]);\r\n\r\n  const handleAddMedicine = () => {\r\n    if (!medicineName || !brand || !mfgDate || !expiryDate || !packedType || !quantity || !purchasePrice || !mrp || !batchNo) {\r\n      setMessage('Please fill in all fields.');\r\n      setMessageType('error');\r\n      return;\r\n    }\r\n\r\n    const newMedicine = {\r\n      packed_type: packedType,\r\n      medicine_name: medicineName,\r\n      brand_name: brand,\r\n      batch_no: batchNo,\r\n      purchase_price: parseFloat(purchasePrice).toFixed(2), // Format to 2 decimal places\r\n      mrp: parseFloat(mrp).toFixed(2), // Format to 2 decimal places\r\n      stock_quantity: parseInt(quantity, 10),\r\n      mfg_date: mfgDate, // YYYY-MM-DD\r\n      expiry_date: expiryDate, // YYYY-MM-DD\r\n    };\r\n    onAddMedicine(newMedicine);\r\n    onClose(); // Close modal after adding\r\n    setMessage(null); // Clear any previous messages\r\n  };\r\n\r\n  const handleRefresh = () => {\r\n    setMedicineName('');\r\n    setBrand('');\r\n    setMfgDate('');\r\n    setExpiryDate('');\r\n    setPackedType('');\r\n    setQuantity('');\r\n    setPurchasePrice('');\r\n    setMrp('');\r\n    setBatchNo('');\r\n    setSuggestions([]);\r\n    setHighlightedIndex(-1);\r\n    setMessage(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n      <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg relative\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center border-b pb-3 mb-4\">\r\n          <h2 className=\"text-2xl font-semibold\">Add New Medicine</h2>\r\n          <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700 text-2xl font-bold\">\r\n            &times;\r\n          </button>\r\n        </div>\r\n        <p className=\"text-gray-600 mb-4\">Enter details for the medicine to add to stock.</p>\r\n\r\n        {/* Form Fields */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n          <div className=\"col-span-2 relative\">\r\n            <label htmlFor=\"medicineName\" className=\"block text-sm font-medium text-gray-700 mb-1\">Medicine Name</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"medicineName\"\r\n              ref={medicineNameInputRef}\r\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n              value={medicineName}\r\n              onChange={handleMedicineNameChange}\r\n              onKeyDown={handleKeyDown}\r\n              required\r\n            />\r\n            {loading && medicineName.length > 1 && (\r\n              <div className=\"absolute top-0 right-0 mt-8 mr-2 z-10 flex items-center\">\r\n                <div className=\"loader ease-linear rounded-full border-2 border-t-2 border-gray-200 h-5 w-5\"></div>\r\n              </div>\r\n            )}\r\n            {suggestions.length > 0 && (\r\n              <ul\r\n                ref={suggestionListRef}\r\n                className=\"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto mt-1\"\r\n              >\r\n                {suggestions.map((suggestion, index) => (\r\n                  <li\r\n                    key={suggestion.medicine_id}\r\n                    className={`p-2 cursor-pointer hover:bg-blue-100 ${\r\n                      index === highlightedIndex ? 'bg-blue-100' : ''\r\n                    }`}\r\n                    onClick={() => fetchMedicineDetails(suggestion.medicine_id)}\r\n                  >\r\n                    {suggestion.medicine_name}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"brand\" className=\"block text-sm font-medium text-gray-700 mb-1\">Brand</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"brand\"\r\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\r\n              value={brand}\r\n              onChange={(e) => setBrand(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"batchNo\" className=\"block text-sm font-medium text-gray-700 mb-1\">Batch No</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"batchNo\"\r\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\r\n              value={batchNo}\r\n              onChange={(e) => setBatchNo(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"mfgDate\" className=\"block text-sm font-medium text-gray-700 mb-1\">MFG Date</label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"mfgDate\"\r\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\r\n              value={mfgDate}\r\n              onChange={(e) => setMfgDate(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"expiryDate\" className=\"block text-sm font-medium text-gray-700 mb-1\">Expiry Date</label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"expiryDate\"\r\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\r\n              value={expiryDate}\r\n              onChange={(e) => setExpiryDate(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"packedType\" className=\"block text-sm font-medium text-gray-700 mb-1\">Packed Type</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"packedType\"\r\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\r\n              value={packedType}\r\n              onChange={(e) => setPackedType(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"quantity\" className=\"block text-sm font-medium text-gray-700 mb-1\">Quantity</label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"quantity\"\r\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\r\n              value={quantity}\r\n              onChange={(e) => setQuantity(e.target.value)}\r\n              required\r\n              min=\"1\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"purchasePrice\" className=\"block text-sm font-medium text-gray-700 mb-1\">Purchase Price (₹)</label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"purchasePrice\"\r\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\r\n              value={purchasePrice}\r\n              onChange={(e) => setPurchasePrice(e.target.value)}\r\n              required\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"mrp\" className=\"block text-sm font-medium text-gray-700 mb-1\">MRP (₹)</label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"mrp\"\r\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\r\n              value={mrp}\r\n              onChange={(e) => setMrp(e.target.value)}\r\n              required\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {message && (\r\n          <div className={`mt-4 p-3 rounded-md ${messageType === 'success' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>\r\n            {message}\r\n          </div>\r\n        )}\r\n\r\n        {/* Buttons */}\r\n        <div className=\"flex justify-end mt-6 space-x-4\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleRefresh}\r\n            className=\"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out\"\r\n          >\r\n            Refresh\r\n          </button>\r\n          <button\r\n            onClick={handleAddMedicine}\r\n            className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg shadow-md transition duration-300 ease-in-out\"\r\n            disabled={loading}\r\n          >\r\n            Add\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddMedicineModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}